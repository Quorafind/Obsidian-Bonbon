<head>
	<style>
		@font-face {
			font-family: "Merriweather";
			font-style: normal;
			font-weight: 700;
			src: local("Merriweather Bold"), local("Merriweather-Bold"),
				url(font/merriweather_bold.woff2) format("woff2");
		}
		@font-face {
			font-family: "Source Sans Pro";
			font-style: normal;
			font-weight: 400;
			src: local("Source Sans Pro"), local("SourceSansPro-Regular"),
				url(font/source_sans.woff2) format("woff2");
		}
		@font-face {
			font-family: "Source Sans Pro";
			font-style: normal;
			font-weight: 600;
			src: local("Source Sans Pro Semibold"),
				local("SourceSansPro-Semibold"),
				url(font/source_sans_semibold.woff2) format("woff2");
		}
		@font-face {
			font-family: "Source Sans Pro";
			font-style: italic;
			font-weight: 400;
			src: local("Source Sans Pro Italic"), local("SourceSansPro-It"),
				url(font/source_sans_italic.woff2) format("woff2");
		}

		html {
			font-family: "Source Sans Pro", sans-serif;
		}

		body {
			overflow-x: hidden;
			margin: 0 0 5px;
			line-height: 1.45;
			background: white;
			font-size: 16px;
			position: relative;
		}

		header,
		article,
		footer nav {
			max-width: 720px;
			margin: 0 auto;
		}

		h1,
		h2,
		h3,
		h4,
		h5 {
			font-family: Merriweather;
			font-weight: 700;
		}

		h1 {
			font-size: 32px;
			line-height: 40px;
		}

		h2 {
			font-size: 26px;
			line-height: 33px;
			margin: 37px 0 12px;
		}

		h3 {
			font-size: 22px;
			line-height: 26px;
			margin: 26px 0 12px;
		}

		h4 {
			font-size: 18px;
			line-height: 22px;
			margin: 25px 0 12px;
		}

		a {
			text-decoration: none;
		}

		header {
			padding: 62px 3px 0;
		}

		header > h1 {
			text-align: center;
			margin: 63px 0 50px;
		}

		header nav,
		footer nav {
			display: flex;
			justify-content: space-between;
			flex-wrap: wrap;
			font-weight: 600;
		}

		a.logo {
			padding-left: 50px;
			letter-spacing: -1px;
			background-image: url(logo.svg);
			background-size: contain;
			background-position: top 2px left;
			background-repeat: no-repeat;
			font-size: 34px;
			line-height: 37px;
		}

		strong {
			font-weight: 600;
		}

		nav a:link,
		nav a:visited,
		a.blocklink:link,
		a.blocklink:visited,
		code a:link,
		code a:visited,
		h2 a:link,
		h2 a:visited,
		h3 a:link,
		h3 a:visited,
		h4 a:link,
		h4 a:visited {
			color: inherit;
		}

		code,
		pre {
			font-size: 14px;
		}
		pre {
			line-height: 22px;
			padding-left: 20px;
			overflow-x: auto;
		}

		code,
		pre,
		.cm-editor .cm-scroller {
			font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo,
				monospace;
		}

		a.blocklink:hover,
		nav a.active,
		a:link,
		a:visited {
			color: #066adf;
		}

		.navlinks {
			flex-grow: 1;
			font-size: 14px;
			display: flex;
			flex-wrap: wrap;
			justify-content: flex-end;
			align-items: flex-end;
		}

		footer .navlinks {
			align-items: center;
		}

		.navlinks > a {
			margin-left: 17px;
			padding-bottom: 3px;
		}

		.navlinks > a:hover {
			color: #066adf;
		}

		nav#toc {
			position: absolute;
			box-sizing: border-box;
			top: 140px;
			right: calc(50% + 360px);
			color: #888;
			min-width: 150px;
			max-width: 200px;
			width: fit-content;
			width: -moz-fit-content;
			width: -webkit-fit-content;
			padding: 10px 40px 30px 10px;
			direction: rtl;
			font-size: 14px;
			line-height: 23.2px;
			font-weight: 600;
		}

		nav#toc a.current-section {
			color: black;
		}

		#searchbox ul.results {
			font-size: 85%;
			padding-left: 3px;
		}

		#searchbox input.active {
			border-bottom: 1px solid silver;
		}

		nav#toc.fixed {
			position: fixed;
			overflow-y: auto;
			max-height: 100%;
		}

		nav#toc > * {
			direction: ltr;
		}

		nav#toc input {
			border: none;
			width: 100%;
			box-sizing: border-box;
			line-height: inherit;
			font: inherit;
			background: transparent;
			color: inherit;
			outline: none;
			margin-top: 20px;
		}

		nav#toc ul {
			list-style: none;
			margin: 0;
			padding: 0;
		}

		nav#toc ul ul {
			padding-left: 20px;
		}

		article {
			padding: 10px 3px 100px;
		}

		footer {
			margin-bottom: 54px;
			padding: 14px 3px 0;
		}

		h2.hr {
			font-size: 12px;
			margin: 30px 0 22px;
		}

		hr,
		h2.hr:after {
			display: block;
			content: "";
			border: none;
			border-bottom: 2px solid #e5e5e5;
			margin-top: -2px;
		}

		hr {
			margin: 45px 0 39px;
		}

		h2.above-list {
			font-size: 12px;
			line-height: 15px;
			margin-bottom: 37px;
			margin-top: 42px;
		}

		h2.module {
			margin-top: 250px;
			font-size: 28px;
			line-height: 30px;
			padding-top: 10px;
			border-bottom: 1px solid black;
		}

		ul.grid-list {
			display: grid;
			grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
			padding: 0;
			gap: 32px;
			position: relative;
		}
		ul.grid-list > li {
			display: block;
			font-size: 14px;
			line-height: 20px;
		}
		ul.grid-list p {
			margin: 0;
		}

		ul.grid-list-3 {
			display: grid;
			grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
			padding: 0;
			gap: 17px;
		}
		ul.grid-list-3 > li {
			display: block;
		}
		ul.grid-list-3 h3 {
			font-size: 100%;
			margin: 0;
		}
		ul.grid-list-3 p {
			margin: 8px 0 12px;
		}

		ul.grid-list-5 {
			display: grid;
			grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
			padding: 0;
			gap: 17px;
		}
		ul.grid-list-5 > li {
			display: block;
		}
		ul.grid-list-5 strong {
			font-size: 110%;
		}

		p,
		dl,
		dd,
		dt.lone,
		ul,
		ol,
		pre {
			margin-bottom: 23px;
		}
		li ul,
		li ol {
			margin-bottom: 0px;
		}

		p,
		dl {
			margin-top: 1em;
		}

		ul.grid-list h3 {
			margin: 0 0 9px;
			line-height: 1;
			font-size: 20px;
		}

		@media screen and (max-width: 830px) {
			h1 {
				font-size: 22px;
			}
			a.logo {
				padding-left: 34px;
				letter-spacing: -1px;
				background-size: 30px;
				background-position: top -2px left;
				background-repeat: no-repeat;
				font-size: 24px;
				line-height: 30px;
			}
			body {
				margin: 0 3px;
			}
		}

		@media screen and (max-width: 1130px) {
			nav#toc {
				position: static;
				max-width: 720px;
				padding: 15px 3px 0;
				width: auto;
				margin: 0 auto;
				direction: ltr;
				color: black;
				display: none;
			}
			nav#toc.fixed {
				position: static;
			}
			nav#toc.open {
				display: block;
			}
			.toc-toggle {
				display: inline;
				cursor: pointer;
			}
		}

		dd p,
		dd ul,
		dd ol {
			margin: 0;
		}
		dd {
			margin-left: 20px;
		}
		dt {
			line-height: 1.35;
		}

		.breaktype {
			padding-left: 20px;
		}

		h2 .keyword,
		h3 .keyword,
		h4 .keyword {
			font-weight: 600;
			margin-bottom: -4px;
			color: black;
		}
		h2 .keyword {
			font-size: 18px;
		}
		h3 .keyword {
			font-size: 16px;
		}
		h4 .keyword {
			font-size: 14px;
		}

		div.figure {
			margin: 1em;
		}
		.figure img {
			width: 400px;
			max-width: 90%;
		}

		nav#toc {
			position: absolute;
			top: 140px;
			right: calc(50% + 360px);
			color: #888;
			min-width: 150px;
			max-width: 200px;
			width: fit-content;
			width: -moz-fit-content;
			width: -webkit-fit-content;
			padding: 10px 40px 30px 10px;
			direction: rtl;
			font-size: 14px;
			line-height: 23.2px;
			font-weight: 600;
		}

		nav#toc.fixed {
			position: fixed;
			overflow-y: auto;
			max-height: 100%;
		}

		nav#toc > * {
			direction: ltr;
		}

		nav#toc ul {
			list-style: none;
			margin: 0;
			padding: 0;
		}

		nav#toc ul ul {
			padding-left: 20px;
		}

		.cm-editor {
			max-height: 200px;
			border: 1px solid silver;
			font-size: 14px;
		}
		.cm-scroller {
			overflow: auto;
		}

		/* Code highlighting styles */
		.tok-keyword,
		.fn,
		.keyword {
			color: #708;
		}
		.tok-atom,
		.tok-bool {
			color: #219;
		}
		.tok-number,
		.prim {
			color: #164;
		}
		.tok-variableName.tok-definition,
		.tok-attribute {
			color: #30b;
		}
		.tok-variableName2,
		.tok-typeName,
		.type {
			color: #05a;
		}
		.tok-comment {
			color: #a50;
		}
		.tok-string,
		.string {
			color: #a11;
		}
		.tok-string2 {
			color: #f50;
		}
		.tok-meta {
			color: #555;
		}
		.tok-tag {
			color: #170;
		}
		.tok-invalid {
			color: #c00;
		}
	</style>
</head>
<body>
	<section id="state">
		<h2>
			<a href="#state"><span class="at">@codemirror/</span>state</a>
		</h2>
		<p>
			In its most basic form, an editor's state is made up of a current
			<a href="#state.EditorState.doc">document</a> and a
			<a href="#state.EditorState.selection">selection</a>. Because there
			are a lot of extra pieces that an editor might need to keep in its
			state (such as an <a href="#commands.history">undo history</a> or
			<a href="#language.syntaxTree">syntax tree</a>), it is possible for
			extensions to add additional
			<a href="#state.StateField">fields</a> to the state object.
		</p>
		<dl>
			<dt id="state.EditorStateConfig">
				<h4>
					<code><span class="keyword">interface</span></code>
					<a href="#state.EditorStateConfig">EditorStateConfig</a>
				</h4>
			</dt>

			<dd>
				<p>
					Options passed when
					<a href="#state.EditorState%5Ecreate">creating</a> an editor
					state.
				</p>
				<dl>
					<dt id="state.EditorStateConfig.doc">
						<code
							><strong
								><a href="#state.EditorStateConfig.doc"
									>doc</a
								></strong
							>⁠?:
							<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"
								><span class="prim">string</span></a
							>
							|
							<a href="#state.Text"
								><span class="type">Text</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							The initial document. Defaults to an empty document.
							Can be provided either as a plain string (which will
							be split into lines according to the value of the
							<a href="#state.EditorState%5ElineSeparator"
								><code>lineSeparator</code> facet</a
							>), or an instance of the
							<a href="#state.Text"><code>Text</code></a> class
							(which is what the state will use to represent the
							document).
						</p>
					</dd>
					<dt id="state.EditorStateConfig.selection">
						<code
							><strong
								><a href="#state.EditorStateConfig.selection"
									>selection</a
								></strong
							>⁠?:
							<a href="#state.EditorSelection"
								><span class="type">EditorSelection</span></a
							>
							| {<span class="prop">anchor</span>:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							>, <span class="prop">head</span>⁠?:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							>}</code
						>
					</dt>

					<dd>
						<p>
							The starting selection. Defaults to a cursor at the
							very start of the document.
						</p>
					</dd>
					<dt id="state.EditorStateConfig.extensions">
						<code
							><strong
								><a href="#state.EditorStateConfig.extensions"
									>extensions</a
								></strong
							>⁠?:
							<a href="#state.Extension"
								><span class="type">Extension</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							<a href="#state.Extension">Extension(s)</a> to
							associate with this state.
						</p>
					</dd>
				</dl>
			</dd>
			<dt id="state.EditorState">
				<h4>
					<code><span class="keyword">class</span></code>
					<a href="#state.EditorState">EditorState</a>
				</h4>
			</dt>

			<dd>
				<p>
					The editor state class is a persistent (immutable) data
					structure. To update a state, you
					<a href="#state.EditorState.update">create</a> a
					<a href="#state.Transaction">transaction</a>, which produces
					a <em>new</em> state instance, without modifying the
					original object.
				</p>
				<p>
					As such, <em>never</em> mutate properties of a state
					directly. That'll just break things.
				</p>
				<dl>
					<dt id="state.EditorState.doc">
						<code
							><strong
								><a href="#state.EditorState.doc"
									>doc</a
								></strong
							>:
							<a href="#state.Text"
								><span class="type">Text</span></a
							></code
						>
					</dt>

					<dd><p>The current document.</p></dd>
					<dt id="state.EditorState.selection">
						<code
							><strong
								><a href="#state.EditorState.selection"
									>selection</a
								></strong
							>:
							<a href="#state.EditorSelection"
								><span class="type">EditorSelection</span></a
							></code
						>
					</dt>

					<dd><p>The current selection.</p></dd>
					<dt id="state.EditorState.field">
						<code
							><strong
								><a href="#state.EditorState.field"
									>field</a
								></strong
							>&lt;<a
								id="state.EditorState.field^T"
								href="#state.EditorState.field^T"
								>T</a
							>&gt;(<a
								id="state.EditorState.field^field"
								href="#state.EditorState.field^field"
								><span class="param">field</span></a
							>:&nbsp;<a href="#state.StateField"
								><span class="type">StateField</span></a
							>&lt;<a href="#state.EditorState.field^T"
								><span class="type">T</span></a
							>&gt;) →&nbsp;<a href="#state.EditorState.field^T"
								><span class="type">T</span></a
							></code
						>
						<div>
							<code
								><strong
									><a href="#state.EditorState.field"
										>field</a
									></strong
								>&lt;<a
									id="state.EditorState.field^T"
									href="#state.EditorState.field^T"
									>T</a
								>&gt;(<a
									id="state.EditorState.field^field"
									href="#state.EditorState.field^field"
									><span class="param">field</span></a
								>:&nbsp;<a href="#state.StateField"
									><span class="type">StateField</span></a
								>&lt;<a href="#state.EditorState.field^T"
									><span class="type">T</span></a
								>&gt;,
								<a
									id="state.EditorState.field^require"
									href="#state.EditorState.field^require"
									><span class="param">require</span></a
								>:&nbsp;<a
									href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"
									><span class="type">false</span></a
								>) →&nbsp;<a href="#state.EditorState.field^T"
									><span class="type">T</span></a
								>
								|
								<a
									href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined"
									><span class="prim">undefined</span></a
								></code
							>
						</div>
					</dt>

					<dd>
						<p>
							Retrieve the value of a
							<a href="#state.StateField">state field</a>. Throws
							an error when the state doesn't have that field,
							unless you pass <code>false</code> as second
							parameter.
						</p>
					</dd>
					<dt id="state.EditorState.update">
						<code
							><strong
								><a href="#state.EditorState.update"
									>update</a
								></strong
							>(...<a
								id="state.EditorState.update^specs"
								href="#state.EditorState.update^specs"
								><span class="param">specs</span></a
							>:&nbsp;<span class="keyword">readonly</span
							>&nbsp;<a href="#state.TransactionSpec"
								><span class="type">TransactionSpec</span></a
							>[]) →&nbsp;<a href="#state.Transaction"
								><span class="type">Transaction</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Create a
							<a href="#state.Transaction">transaction</a> that
							updates this state. Any number of
							<a href="#state.TransactionSpec"
								>transaction specs</a
							>
							can be passed. Unless
							<a href="#state.TransactionSpec.sequential"
								><code>sequential</code></a
							>
							is set, the
							<a href="#state.TransactionSpec.changes">changes</a>
							(if any) of each spec are assumed to start in the
							<em>current</em> document (not the document produced
							by previous specs), and its
							<a href="#state.TransactionSpec.selection"
								>selection</a
							>
							and
							<a href="#state.TransactionSpec.effects">effects</a>
							are assumed to refer to the document created by its
							<em>own</em> changes. The resulting transaction
							contains the combined effect of all the different
							specs. For
							<a href="#state.TransactionSpec.selection"
								>selection</a
							>, later specs take precedence over earlier ones.
						</p>
					</dd>
					<dt id="state.EditorState.replaceSelection">
						<code
							><strong
								><a href="#state.EditorState.replaceSelection"
									>replaceSelection</a
								></strong
							>(<a
								id="state.EditorState.replaceSelection^text"
								href="#state.EditorState.replaceSelection^text"
								><span class="param">text</span></a
							>:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"
								><span class="prim">string</span></a
							>
							|
							<a href="#state.Text"
								><span class="type">Text</span></a
							>) →&nbsp;<a href="#state.TransactionSpec"
								><span class="type">TransactionSpec</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Create a
							<a href="#state.TransactionSpec"
								>transaction spec</a
							>
							that replaces every selection range with the given
							content.
						</p>
					</dd>
					<dt id="state.EditorState.changeByRange">
						<code
							><strong
								><a href="#state.EditorState.changeByRange"
									>changeByRange</a
								></strong
							>(
							<div class="breaktype">
								<a
									id="state.EditorState.changeByRange^f"
									href="#state.EditorState.changeByRange^f"
									><span class="param">f</span></a
								>:&nbsp;<span class="fn">fn</span>(<a
									id="state.EditorState.changeByRange^f^range"
									href="#state.EditorState.changeByRange^f^range"
									><span class="param">range</span></a
								>:&nbsp;<a href="#state.SelectionRange"
									><span class="type">SelectionRange</span></a
								>) →&nbsp;{
								<div class="breaktype">
									<span class="prop">range</span>:&nbsp;<a
										href="#state.SelectionRange"
										><span class="type"
											>SelectionRange</span
										></a
									>,
								</div>
								<div class="breaktype">
									<span class="prop">changes</span>⁠?:&nbsp;<a
										href="#state.ChangeSpec"
										><span class="type">ChangeSpec</span></a
									>,
								</div>
								<div class="breaktype">
									<span class="prop">effects</span>⁠?:&nbsp;<a
										href="#state.StateEffect"
										><span class="type"
											>StateEffect</span
										></a
									>&lt;<span class="type">any</span>&gt; |
									<span class="keyword">readonly</span
									>&nbsp;<a href="#state.StateEffect"
										><span class="type"
											>StateEffect</span
										></a
									>&lt;<span class="type">any</span>&gt;[]
								</div>
								}
							</div>
							) →&nbsp;{
							<div class="breaktype">
								<span class="prop">changes</span>:&nbsp;<a
									href="#state.ChangeSet"
									><span class="type">ChangeSet</span></a
								>,
							</div>
							<div class="breaktype">
								<span class="prop">selection</span>:&nbsp;<a
									href="#state.EditorSelection"
									><span class="type"
										>EditorSelection</span
									></a
								>,
							</div>
							<div class="breaktype">
								<span class="prop">effects</span>:&nbsp;<span
									class="keyword"
									>readonly</span
								>&nbsp;<a href="#state.StateEffect"
									><span class="type">StateEffect</span></a
								>&lt;<span class="type">any</span>&gt;[]
							</div>
							}</code
						>
					</dt>

					<dd>
						<p>
							Create a set of changes and a new selection by
							running the given function for each range in the
							active selection. The function can return an
							optional set of changes (in the coordinate space of
							the start document), plus an updated range (in the
							coordinate space of the document produced by the
							call's own changes). This method will merge all the
							changes and ranges into a single changeset and
							selection, and return it as a
							<a href="#state.TransactionSpec">transaction spec</a
							>, which can be passed to
							<a href="#state.EditorState.update"
								><code>update</code></a
							>.
						</p>
					</dd>
					<dt id="state.EditorState.changes">
						<code
							><strong
								><a href="#state.EditorState.changes"
									>changes</a
								></strong
							>(<a
								id="state.EditorState.changes^spec"
								href="#state.EditorState.changes^spec"
								><span class="param">spec</span></a
							>⁠?:&nbsp;<a href="#state.ChangeSpec"
								><span class="type">ChangeSpec</span></a
							><span class="defaultvalue"> = []</span>) →&nbsp;<a
								href="#state.ChangeSet"
								><span class="type">ChangeSet</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Create a
							<a href="#state.ChangeSet">change set</a> from the
							given change description, taking the state's
							document length and line separator into account.
						</p>
					</dd>
					<dt id="state.EditorState.toText">
						<code
							><strong
								><a href="#state.EditorState.toText"
									>toText</a
								></strong
							>(<a
								id="state.EditorState.toText^string"
								href="#state.EditorState.toText^string"
								><span class="param">string</span></a
							>:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"
								><span class="prim">string</span></a
							>) →&nbsp;<a href="#state.Text"
								><span class="type">Text</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Using the state's
							<a href="#state.EditorState%5ElineSeparator"
								>line separator</a
							>, create a
							<a href="#state.Text"><code>Text</code></a> instance
							from the given string.
						</p>
					</dd>
					<dt id="state.EditorState.sliceDoc">
						<code
							><strong
								><a href="#state.EditorState.sliceDoc"
									>sliceDoc</a
								></strong
							>(<a
								id="state.EditorState.sliceDoc^from"
								href="#state.EditorState.sliceDoc^from"
								><span class="param">from</span></a
							>⁠?:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							><span class="defaultvalue"> = 0</span>,
							<a
								id="state.EditorState.sliceDoc^to"
								href="#state.EditorState.sliceDoc^to"
								><span class="param">to</span></a
							>⁠?:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							><span class="defaultvalue"> = this.doc.length</span
							>) →&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"
								><span class="prim">string</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Return the given range of the document as a string.
						</p>
					</dd>
					<dt id="state.EditorState.facet">
						<code
							><strong
								><a href="#state.EditorState.facet"
									>facet</a
								></strong
							>&lt;<a
								id="state.EditorState.facet^Output"
								href="#state.EditorState.facet^Output"
								>Output</a
							>&gt;(<a
								id="state.EditorState.facet^facet"
								href="#state.EditorState.facet^facet"
								><span class="param">facet</span></a
							>:&nbsp;<a href="#state.FacetReader"
								><span class="type">FacetReader</span></a
							>&lt;<a href="#state.EditorState.facet^Output"
								><span class="type">Output</span></a
							>&gt;) →&nbsp;<a
								href="#state.EditorState.facet^Output"
								><span class="type">Output</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Get the value of a state
							<a href="#state.Facet">facet</a>.
						</p>
					</dd>
					<dt id="state.EditorState.toJSON">
						<code
							><strong
								><a href="#state.EditorState.toJSON"
									>toJSON</a
								></strong
							>(<a
								id="state.EditorState.toJSON^fields"
								href="#state.EditorState.toJSON^fields"
								><span class="param">fields</span></a
							>⁠?:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"
								><span class="type">Object</span></a
							>&lt;<a href="#state.StateField"
								><span class="type">StateField</span></a
							>&lt;<span class="type">any</span>&gt;&gt;)
							→&nbsp;<span class="type">any</span></code
						>
					</dt>

					<dd>
						<p>
							Convert this state to a JSON-serializable object.
							When custom fields should be serialized, you can
							pass them in as an object mapping property names (in
							the resulting object, which should not use
							<code>doc</code> or <code>selection</code>) to
							fields.
						</p>
					</dd>
					<dt id="state.EditorState.tabSize">
						<code
							><strong
								><a href="#state.EditorState.tabSize"
									>tabSize</a
								></strong
							>:
							<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							The size (in columns) of a tab in the document,
							determined by the
							<a href="#state.EditorState%5EtabSize"
								><code>tabSize</code></a
							>
							facet.
						</p>
					</dd>
					<dt id="state.EditorState.lineBreak">
						<code
							><strong
								><a href="#state.EditorState.lineBreak"
									>lineBreak</a
								></strong
							>:
							<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"
								><span class="prim">string</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Get the proper
							<a href="#state.EditorState%5ElineSeparator"
								>line-break</a
							>
							string for this state.
						</p>
					</dd>
					<dt id="state.EditorState.readOnly">
						<code
							><strong
								><a href="#state.EditorState.readOnly"
									>readOnly</a
								></strong
							>:
							<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"
								><span class="prim">boolean</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Returns true when the editor is
							<a href="#state.EditorState%5EreadOnly"
								>configured</a
							>
							to be read-only.
						</p>
					</dd>
					<dt id="state.EditorState.phrase">
						<code
							><strong
								><a href="#state.EditorState.phrase"
									>phrase</a
								></strong
							>(<a
								id="state.EditorState.phrase^phrase"
								href="#state.EditorState.phrase^phrase"
								><span class="param">phrase</span></a
							>:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"
								><span class="prim">string</span></a
							>, ...<a
								id="state.EditorState.phrase^insert"
								href="#state.EditorState.phrase^insert"
								><span class="param">insert</span></a
							>:&nbsp;<span class="type">any</span>[]) →&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"
								><span class="prim">string</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Look up a translation for the given phrase (via the
							<a href="#state.EditorState%5Ephrases"
								><code>phrases</code></a
							>
							facet), or return the original string if no
							translation is found.
						</p>
						<p>
							If additional arguments are passed, they will be
							inserted in place of markers like
							<code>$1</code> (for the first value) and
							<code>$2</code>, etc. A single <code>$</code> is
							equivalent to <code>$1</code>, and
							<code>$$</code> will produce a literal dollar sign.
						</p>
					</dd>
					<dt id="state.EditorState.languageDataAt">
						<code
							><strong
								><a href="#state.EditorState.languageDataAt"
									>languageDataAt</a
								></strong
							>&lt;<a
								id="state.EditorState.languageDataAt^T"
								href="#state.EditorState.languageDataAt^T"
								>T</a
							>&gt;(<a
								id="state.EditorState.languageDataAt^name"
								href="#state.EditorState.languageDataAt^name"
								><span class="param">name</span></a
							>:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"
								><span class="prim">string</span></a
							>,
							<a
								id="state.EditorState.languageDataAt^pos"
								href="#state.EditorState.languageDataAt^pos"
								><span class="param">pos</span></a
							>:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							>,
							<a
								id="state.EditorState.languageDataAt^side"
								href="#state.EditorState.languageDataAt^side"
								><span class="param">side</span></a
							>⁠?:&nbsp;<span class="type">-1</span> |
							<span class="type">0</span> |
							<span class="type">1</span
							><span class="defaultvalue"> = -1</span>)
							→&nbsp;<span class="keyword">readonly</span>&nbsp;<a
								href="#state.EditorState.languageDataAt^T"
								><span class="type">T</span></a
							>[]</code
						>
					</dt>

					<dd>
						<p>
							Find the values for a given language data field,
							provided by the the
							<a href="#state.EditorState%5ElanguageData"
								><code>languageData</code></a
							>
							facet.
						</p>
						<p>Examples of language data fields are...</p>
						<ul>
							<li>
								<a href="#commands.CommentTokens"
									><code>"commentTokens"</code></a
								>
								for specifying comment syntax.
							</li>
							<li>
								<a
									href="#autocomplete.autocompletion%5Econfig.override"
									><code>"autocomplete"</code></a
								>
								for providing language-specific completion
								sources.
							</li>
							<li>
								<a href="#state.EditorState.charCategorizer"
									><code>"wordChars"</code></a
								>
								for adding characters that should be considered
								part of words in this language.
							</li>
							<li>
								<a href="#autocomplete.CloseBracketConfig"
									><code>"closeBrackets"</code></a
								>
								controls bracket closing behavior.
							</li>
						</ul>
					</dd>
					<dt id="state.EditorState.charCategorizer">
						<code
							><strong
								><a href="#state.EditorState.charCategorizer"
									>charCategorizer</a
								></strong
							>(<a
								id="state.EditorState.charCategorizer^at"
								href="#state.EditorState.charCategorizer^at"
								><span class="param">at</span></a
							>:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							>) →&nbsp;<span class="fn">fn</span>(<a
								id="state.EditorState.charCategorizer^returns^char"
								href="#state.EditorState.charCategorizer^returns^char"
								><span class="param">char</span></a
							>:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"
								><span class="prim">string</span></a
							>) →&nbsp;<a href="#state.CharCategory"
								><span class="type">CharCategory</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Return a function that can categorize strings
							(expected to represent a single
							<a href="#state.findClusterBreak"
								>grapheme cluster</a
							>) into one of:
						</p>
						<ul>
							<li>
								Word (contains an alphanumeric character or a
								character explicitly listed in the local
								language's
								<code>"wordChars"</code> language data, which
								should be a string)
							</li>
							<li>Space (contains only whitespace)</li>
							<li>Other (anything else)</li>
						</ul>
					</dd>
					<dt id="state.EditorState.wordAt">
						<code
							><strong
								><a href="#state.EditorState.wordAt"
									>wordAt</a
								></strong
							>(<a
								id="state.EditorState.wordAt^pos"
								href="#state.EditorState.wordAt^pos"
								><span class="param">pos</span></a
							>:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							>) →&nbsp;<a href="#state.SelectionRange"
								><span class="type">SelectionRange</span></a
							>
							|
							<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"
								><span class="prim">null</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Find the word at the given position, meaning the
							range containing all
							<a href="#state.CharCategory.Word">word</a>
							characters around it. If no word characters are
							adjacent to the position, this returns null.
						</p>
					</dd>
					<dt id="state.EditorState^fromJSON">
						<code
							><span class="keyword">static</span>
							<strong
								><a href="#state.EditorState^fromJSON"
									>fromJSON</a
								></strong
							>(
							<div class="breaktype">
								<a
									id="state.EditorState^fromJSON^json"
									href="#state.EditorState^fromJSON^json"
									><span class="param">json</span></a
								>:&nbsp;<span class="type">any</span>,
							</div>
							<div class="breaktype">
								<a
									id="state.EditorState^fromJSON^config"
									href="#state.EditorState^fromJSON^config"
									><span class="param">config</span></a
								>⁠?:&nbsp;<a href="#state.EditorStateConfig"
									><span class="type"
										>EditorStateConfig</span
									></a
								><span class="defaultvalue"> = {}</span>,
							</div>
							<div class="breaktype">
								<a
									id="state.EditorState^fromJSON^fields"
									href="#state.EditorState^fromJSON^fields"
									><span class="param">fields</span></a
								>⁠?:&nbsp;<a
									href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"
									><span class="type">Object</span></a
								>&lt;<a href="#state.StateField"
									><span class="type">StateField</span></a
								>&lt;<span class="type">any</span>&gt;&gt;
							</div>
							) →&nbsp;<a href="#state.EditorState"
								><span class="type">EditorState</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Deserialize a state from its JSON representation.
							When custom fields should be deserialized, pass the
							same object you passed to
							<a href="#state.EditorState.toJSON"
								><code>toJSON</code></a
							>
							when serializing as third argument.
						</p>
					</dd>
					<dt id="state.EditorState^create">
						<code
							><span class="keyword">static</span>
							<strong
								><a href="#state.EditorState^create"
									>create</a
								></strong
							>(<a
								id="state.EditorState^create^config"
								href="#state.EditorState^create^config"
								><span class="param">config</span></a
							>⁠?:&nbsp;<a href="#state.EditorStateConfig"
								><span class="type">EditorStateConfig</span></a
							><span class="defaultvalue"> = {}</span>) →&nbsp;<a
								href="#state.EditorState"
								><span class="type">EditorState</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Create a new state. You'll usually only need this
							when initializing an editor—updated states are
							created by applying transactions.
						</p>
					</dd>
					<dt id="state.EditorState^allowMultipleSelections">
						<code
							><span class="keyword">static</span>
							<strong
								><a
									href="#state.EditorState^allowMultipleSelections"
									>allowMultipleSelections</a
								></strong
							>:
							<a href="#state.Facet"
								><span class="type">Facet</span></a
							>&lt;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"
								><span class="prim">boolean</span></a
							>,
							<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"
								><span class="prim">boolean</span></a
							>&gt;</code
						>
					</dt>

					<dd>
						<p>
							A facet that, when enabled, causes the editor to
							allow multiple ranges to be selected. Be careful
							though, because by default the editor relies on the
							native DOM selection, which cannot handle multiple
							selections. An extension like
							<a href="#view.drawSelection"
								><code>drawSelection</code></a
							>
							can be used to make secondary selections visible to
							the user.
						</p>
					</dd>
					<dt id="state.EditorState^tabSize">
						<code
							><span class="keyword">static</span>
							<strong
								><a href="#state.EditorState^tabSize"
									>tabSize</a
								></strong
							>:
							<a href="#state.Facet"
								><span class="type">Facet</span></a
							>&lt;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							>,
							<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							>&gt;</code
						>
					</dt>

					<dd>
						<p>
							Configures the tab size to use in this state. The
							first (highest-precedence) value of the facet is
							used. If no value is given, this defaults to 4.
						</p>
					</dd>
					<dt id="state.EditorState^lineSeparator">
						<code
							><span class="keyword">static</span>
							<strong
								><a href="#state.EditorState^lineSeparator"
									>lineSeparator</a
								></strong
							>:
							<a href="#state.Facet"
								><span class="type">Facet</span></a
							>&lt;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"
								><span class="prim">string</span></a
							>,
							<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"
								><span class="prim">string</span></a
							>
							|
							<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined"
								><span class="prim">undefined</span></a
							>&gt;</code
						>
					</dt>

					<dd>
						<p>
							The line separator to use. By default, any of
							<code>"\n"</code>, <code>"\r\n"</code> and
							<code>"\r"</code> is treated as a separator when
							splitting lines, and lines are joined with
							<code>"\n"</code>.
						</p>
						<p>
							When you configure a value here, only that precise
							separator will be used, allowing you to round-trip
							documents through the editor without normalizing
							line separators.
						</p>
					</dd>
					<dt id="state.EditorState^readOnly">
						<code
							><span class="keyword">static</span>
							<strong
								><a href="#state.EditorState^readOnly"
									>readOnly</a
								></strong
							>:
							<a href="#state.Facet"
								><span class="type">Facet</span></a
							>&lt;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"
								><span class="prim">boolean</span></a
							>,
							<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"
								><span class="prim">boolean</span></a
							>&gt;</code
						>
					</dt>

					<dd>
						<p>
							This facet controls the value of the
							<a href="#state.EditorState.readOnly"
								><code>readOnly</code></a
							>
							getter, which is consulted by commands and
							extensions that implement editing functionality to
							determine whether they should apply. It defaults to
							false, but when its highest-precedence value is
							<code>true</code>, such functionality disables
							itself.
						</p>
						<p>
							Not to be confused with
							<a href="#view.EditorView%5Eeditable"
								><code>EditorView.editable</code></a
							>, which controls whether the editor's DOM is set to
							be editable (and thus focusable).
						</p>
					</dd>
					<dt id="state.EditorState^phrases">
						<code
							><span class="keyword">static</span>
							<strong
								><a href="#state.EditorState^phrases"
									>phrases</a
								></strong
							>:
							<a href="#state.Facet"
								><span class="type">Facet</span></a
							>&lt;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"
								><span class="type">Object</span></a
							>&lt;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"
								><span class="prim">string</span></a
							>&gt;&gt;</code
						>
					</dt>

					<dd>
						<p>
							Registers translation phrases. The
							<a href="#state.EditorState.phrase"
								><code>phrase</code></a
							>
							method will look through all objects registered with
							this facet to find translations for its argument.
						</p>
					</dd>
					<dt id="state.EditorState^languageData">
						<code
							><span class="keyword">static</span>
							<strong
								><a href="#state.EditorState^languageData"
									>languageData</a
								></strong
							>:
							<a href="#state.Facet"
								><span class="type">Facet</span></a
							>&lt;
							<div class="breaktype">
								<span class="fn">fn</span>(<a
									id="state.EditorState^languageData^state"
									href="#state.EditorState^languageData^state"
									><span class="param">state</span></a
								>:&nbsp;<a href="#state.EditorState"
									><span class="type">EditorState</span></a
								>,
								<a
									id="state.EditorState^languageData^pos"
									href="#state.EditorState^languageData^pos"
									><span class="param">pos</span></a
								>:&nbsp;<a
									href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
									><span class="prim">number</span></a
								>,
								<a
									id="state.EditorState^languageData^side"
									href="#state.EditorState^languageData^side"
									><span class="param">side</span></a
								>:&nbsp;<span class="type">-1</span> |
								<span class="type">0</span> |
								<span class="type">1</span>) →&nbsp;<span
									class="keyword"
									>readonly</span
								>&nbsp;<a
									href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"
									><span class="type">Object</span></a
								>&lt;<span class="type">any</span>&gt;[]
							</div>
							&gt;</code
						>
					</dt>

					<dd>
						<p>
							A facet used to register
							<a href="#state.EditorState.languageDataAt"
								>language data</a
							>
							providers.
						</p>
					</dd>
					<dt id="state.EditorState^changeFilter">
						<code
							><span class="keyword">static</span>
							<strong
								><a href="#state.EditorState^changeFilter"
									>changeFilter</a
								></strong
							>:
							<a href="#state.Facet"
								><span class="type">Facet</span></a
							>&lt;<span class="fn">fn</span>(<a
								id="state.EditorState^changeFilter^tr"
								href="#state.EditorState^changeFilter^tr"
								><span class="param">tr</span></a
							>:&nbsp;<a href="#state.Transaction"
								><span class="type">Transaction</span></a
							>) →&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"
								><span class="prim">boolean</span></a
							>
							| <span class="keyword">readonly</span>&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							>[]&gt;</code
						>
					</dt>

					<dd>
						<p>
							Facet used to register change filters, which are
							called for each transaction (unless explicitly
							<a href="#state.TransactionSpec.filter">disabled</a
							>), and can suppress part of the transaction's
							changes.
						</p>
						<p>
							Such a function can return <code>true</code> to
							indicate that it doesn't want to do anything,
							<code>false</code> to completely stop the changes in
							the transaction, or a set of ranges in which changes
							should be suppressed. Such ranges are represented as
							an array of numbers, with each pair of two numbers
							indicating the start and end of a range. So for
							example <code>[10, 20, 100, 110]</code> suppresses
							changes between 10 and 20, and between 100 and 110.
						</p>
					</dd>
					<dt id="state.EditorState^transactionFilter">
						<code
							><span class="keyword">static</span>
							<strong
								><a href="#state.EditorState^transactionFilter"
									>transactionFilter</a
								></strong
							>:
							<a href="#state.Facet"
								><span class="type">Facet</span></a
							>&lt;
							<div class="breaktype">
								<span class="fn">fn</span>(<a
									id="state.EditorState^transactionFilter^tr"
									href="#state.EditorState^transactionFilter^tr"
									><span class="param">tr</span></a
								>:&nbsp;<a href="#state.Transaction"
									><span class="type">Transaction</span></a
								>) →&nbsp;<a href="#state.TransactionSpec"
									><span class="type"
										>TransactionSpec</span
									></a
								>
								| <span class="keyword">readonly</span>&nbsp;<a
									href="#state.TransactionSpec"
									><span class="type"
										>TransactionSpec</span
									></a
								>[]
							</div>
							&gt;</code
						>
					</dt>

					<dd>
						<p>
							Facet used to register a hook that gets a chance to
							update or replace transaction specs before they are
							applied. This will only be applied for transactions
							that don't have
							<a href="#state.TransactionSpec.filter"
								><code>filter</code></a
							>
							set to <code>false</code>. You can either return a
							single transaction spec (possibly the input
							transaction), or an array of specs (which will be
							combined in the same way as the arguments to
							<a href="#state.EditorState.update"
								><code>EditorState.update</code></a
							>).
						</p>
						<p>
							When possible, it is recommended to avoid accessing
							<a href="#state.Transaction.state"
								><code>Transaction.state</code></a
							>
							in a filter, since it will force creation of a state
							that will then be discarded again, if the
							transaction is actually filtered.
						</p>
						<p>
							(This functionality should be used with care.
							Indiscriminately modifying transaction is likely to
							break something or degrade the user experience.)
						</p>
					</dd>
					<dt id="state.EditorState^transactionExtender">
						<code
							><span class="keyword">static</span>
							<strong
								><a
									href="#state.EditorState^transactionExtender"
									>transactionExtender</a
								></strong
							>:
							<a href="#state.Facet"
								><span class="type">Facet</span></a
							>&lt;
							<div class="breaktype">
								<span class="fn">fn</span>(<a
									id="state.EditorState^transactionExtender^tr"
									href="#state.EditorState^transactionExtender^tr"
									><span class="param">tr</span></a
								>:&nbsp;<a href="#state.Transaction"
									><span class="type">Transaction</span></a
								>) →&nbsp;<a
									href="https://www.typescriptlang.org/docs/handbook/utility-types.html#picktype-keys"
									><span class="type">Pick</span></a
								>&lt;<a href="#state.TransactionSpec"
									><span class="type"
										>TransactionSpec</span
									></a
								>, <span class="string">"effects"</span> |
								<span class="string">"annotations"</span>&gt; |
								<div class="breaktype">
									<a
										href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"
										><span class="prim">null</span></a
									>
								</div>
							</div>
							&gt;</code
						>
					</dt>

					<dd>
						<p>
							This is a more limited form of
							<a href="#state.EditorState%5EtransactionFilter"
								><code>transactionFilter</code></a
							>, which can only add
							<a href="#state.TransactionSpec.annotations"
								>annotations</a
							>
							and
							<a href="#state.TransactionSpec.effects">effects</a
							>. <em>But</em>, this type of filter runs even if
							the transaction has disabled regular
							<a href="#state.TransactionSpec.filter">filtering</a
							>, making it suitable for effects that don't need to
							touch the changes or selection, but do want to
							process every transaction.
						</p>
						<p>
							Extenders run <em>after</em> filters, when both are
							present.
						</p>
					</dd>
				</dl>
			</dd>
			<dt id="state.SelectionRange">
				<h4>
					<code><span class="keyword">class</span></code>
					<a href="#state.SelectionRange">SelectionRange</a>
				</h4>
			</dt>

			<dd>
				<p>
					A single selection range. When
					<a href="#state.EditorState%5EallowMultipleSelections"
						><code>allowMultipleSelections</code></a
					>
					is enabled, a
					<a href="#state.EditorSelection">selection</a> may hold
					multiple ranges. By default, selections hold exactly one
					range.
				</p>
				<dl>
					<dt id="state.SelectionRange.from">
						<code
							><strong
								><a href="#state.SelectionRange.from"
									>from</a
								></strong
							>:
							<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							></code
						>
					</dt>

					<dd><p>The lower boundary of the range.</p></dd>
					<dt id="state.SelectionRange.to">
						<code
							><strong
								><a href="#state.SelectionRange.to"
									>to</a
								></strong
							>:
							<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							></code
						>
					</dt>

					<dd><p>The upper boundary of the range.</p></dd>
					<dt id="state.SelectionRange.anchor">
						<code
							><strong
								><a href="#state.SelectionRange.anchor"
									>anchor</a
								></strong
							>:
							<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							The anchor of the range—the side that doesn't move
							when you extend it.
						</p>
					</dd>
					<dt id="state.SelectionRange.head">
						<code
							><strong
								><a href="#state.SelectionRange.head"
									>head</a
								></strong
							>:
							<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							The head of the range, which is moved when the range
							is
							<a href="#state.SelectionRange.extend">extended</a>.
						</p>
					</dd>
					<dt id="state.SelectionRange.empty">
						<code
							><strong
								><a href="#state.SelectionRange.empty"
									>empty</a
								></strong
							>:
							<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"
								><span class="prim">boolean</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							True when <code>anchor</code> and
							<code>head</code> are at the same position.
						</p>
					</dd>
					<dt id="state.SelectionRange.assoc">
						<code
							><strong
								><a href="#state.SelectionRange.assoc"
									>assoc</a
								></strong
							>: <span class="type">-1</span> |
							<span class="type">0</span> |
							<span class="type">1</span></code
						>
					</dt>

					<dd>
						<p>
							If this is a cursor that is explicitly associated
							with the character on one of its sides, this returns
							the side. -1 means the character before its
							position, 1 the character after, and 0 means no
							association.
						</p>
					</dd>
					<dt id="state.SelectionRange.bidiLevel">
						<code
							><strong
								><a href="#state.SelectionRange.bidiLevel"
									>bidiLevel</a
								></strong
							>:
							<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							>
							|
							<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"
								><span class="prim">null</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							The bidirectional text level associated with this
							cursor, if any.
						</p>
					</dd>
					<dt id="state.SelectionRange.goalColumn">
						<code
							><strong
								><a href="#state.SelectionRange.goalColumn"
									>goalColumn</a
								></strong
							>:
							<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							>
							|
							<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined"
								><span class="prim">undefined</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							The goal column (stored vertical offset) associated
							with a cursor. This is used to preserve the vertical
							position when
							<a href="#view.EditorView.moveVertically">moving</a>
							across lines of different length.
						</p>
					</dd>
					<dt id="state.SelectionRange.map">
						<code
							><strong
								><a href="#state.SelectionRange.map"
									>map</a
								></strong
							>(<a
								id="state.SelectionRange.map^change"
								href="#state.SelectionRange.map^change"
								><span class="param">change</span></a
							>:&nbsp;<a href="#state.ChangeDesc"
								><span class="type">ChangeDesc</span></a
							>,
							<a
								id="state.SelectionRange.map^assoc"
								href="#state.SelectionRange.map^assoc"
								><span class="param">assoc</span></a
							>⁠?:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							><span class="defaultvalue"> = -1</span>) →&nbsp;<a
								href="#state.SelectionRange"
								><span class="type">SelectionRange</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Map this range through a change, producing a valid
							range in the updated document.
						</p>
					</dd>
					<dt id="state.SelectionRange.extend">
						<code
							><strong
								><a href="#state.SelectionRange.extend"
									>extend</a
								></strong
							>(<a
								id="state.SelectionRange.extend^from"
								href="#state.SelectionRange.extend^from"
								><span class="param">from</span></a
							>:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							>,
							<a
								id="state.SelectionRange.extend^to"
								href="#state.SelectionRange.extend^to"
								><span class="param">to</span></a
							>⁠?:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							><span class="defaultvalue"> = from</span>)
							→&nbsp;<a href="#state.SelectionRange"
								><span class="type">SelectionRange</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Extend this range to cover at least
							<code>from</code> to <code>to</code>.
						</p>
					</dd>
					<dt id="state.SelectionRange.eq">
						<code
							><strong
								><a href="#state.SelectionRange.eq"
									>eq</a
								></strong
							>(<a
								id="state.SelectionRange.eq^other"
								href="#state.SelectionRange.eq^other"
								><span class="param">other</span></a
							>:&nbsp;<a href="#state.SelectionRange"
								><span class="type">SelectionRange</span></a
							>,
							<a
								id="state.SelectionRange.eq^includeAssoc"
								href="#state.SelectionRange.eq^includeAssoc"
								><span class="param">includeAssoc</span></a
							>⁠?:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"
								><span class="prim">boolean</span></a
							><span class="defaultvalue"> = false</span>)
							→&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"
								><span class="prim">boolean</span></a
							></code
						>
					</dt>

					<dd><p>Compare this range to another range.</p></dd>
					<dt id="state.SelectionRange.toJSON">
						<code
							><strong
								><a href="#state.SelectionRange.toJSON"
									>toJSON</a
								></strong
							>() →&nbsp;<span class="type">any</span></code
						>
					</dt>

					<dd>
						<p>
							Return a JSON-serializable object representing the
							range.
						</p>
					</dd>
					<dt id="state.SelectionRange^fromJSON">
						<code
							><span class="keyword">static</span>
							<strong
								><a href="#state.SelectionRange^fromJSON"
									>fromJSON</a
								></strong
							>(<a
								id="state.SelectionRange^fromJSON^json"
								href="#state.SelectionRange^fromJSON^json"
								><span class="param">json</span></a
							>:&nbsp;<span class="type">any</span>) →&nbsp;<a
								href="#state.SelectionRange"
								><span class="type">SelectionRange</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Convert a JSON representation of a range to a
							<code>SelectionRange</code> instance.
						</p>
					</dd>
				</dl>
			</dd>
			<dt id="state.EditorSelection">
				<h4>
					<code><span class="keyword">class</span></code>
					<a href="#state.EditorSelection">EditorSelection</a>
				</h4>
			</dt>

			<dd>
				<p>An editor selection holds one or more selection ranges.</p>
				<dl>
					<dt id="state.EditorSelection.ranges">
						<code
							><strong
								><a href="#state.EditorSelection.ranges"
									>ranges</a
								></strong
							>: <span class="keyword">readonly</span>&nbsp;<a
								href="#state.SelectionRange"
								><span class="type">SelectionRange</span></a
							>[]</code
						>
					</dt>

					<dd>
						<p>
							The ranges in the selection, sorted by position.
							Ranges cannot overlap (but they may touch, if they
							aren't empty).
						</p>
					</dd>
					<dt id="state.EditorSelection.mainIndex">
						<code
							><strong
								><a href="#state.EditorSelection.mainIndex"
									>mainIndex</a
								></strong
							>:
							<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							The index of the <em>main</em> range in the
							selection (which is usually the range that was added
							last).
						</p>
					</dd>
					<dt id="state.EditorSelection.map">
						<code
							><strong
								><a href="#state.EditorSelection.map"
									>map</a
								></strong
							>(<a
								id="state.EditorSelection.map^change"
								href="#state.EditorSelection.map^change"
								><span class="param">change</span></a
							>:&nbsp;<a href="#state.ChangeDesc"
								><span class="type">ChangeDesc</span></a
							>,
							<a
								id="state.EditorSelection.map^assoc"
								href="#state.EditorSelection.map^assoc"
								><span class="param">assoc</span></a
							>⁠?:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							><span class="defaultvalue"> = -1</span>) →&nbsp;<a
								href="#state.EditorSelection"
								><span class="type">EditorSelection</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Map a selection through a change. Used to adjust the
							selection position for changes.
						</p>
					</dd>
					<dt id="state.EditorSelection.eq">
						<code
							><strong
								><a href="#state.EditorSelection.eq"
									>eq</a
								></strong
							>(<a
								id="state.EditorSelection.eq^other"
								href="#state.EditorSelection.eq^other"
								><span class="param">other</span></a
							>:&nbsp;<a href="#state.EditorSelection"
								><span class="type">EditorSelection</span></a
							>,
							<a
								id="state.EditorSelection.eq^includeAssoc"
								href="#state.EditorSelection.eq^includeAssoc"
								><span class="param">includeAssoc</span></a
							>⁠?:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"
								><span class="prim">boolean</span></a
							><span class="defaultvalue"> = false</span>)
							→&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"
								><span class="prim">boolean</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Compare this selection to another selection. By
							default, ranges are compared only by position. When
							<code>includeAssoc</code> is true, cursor ranges
							must also have the same
							<a href="#state.SelectionRange.assoc"
								><code>assoc</code></a
							>
							value.
						</p>
					</dd>
					<dt id="state.EditorSelection.main">
						<code
							><strong
								><a href="#state.EditorSelection.main"
									>main</a
								></strong
							>:
							<a href="#state.SelectionRange"
								><span class="type">SelectionRange</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Get the primary selection range. Usually, you should
							make sure your code applies to <em>all</em> ranges,
							by using methods like
							<a href="#state.EditorState.changeByRange"
								><code>changeByRange</code></a
							>.
						</p>
					</dd>
					<dt id="state.EditorSelection.asSingle">
						<code
							><strong
								><a href="#state.EditorSelection.asSingle"
									>asSingle</a
								></strong
							>() →&nbsp;<a href="#state.EditorSelection"
								><span class="type">EditorSelection</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Make sure the selection only has one range. Returns
							a selection holding only the main range from this
							selection.
						</p>
					</dd>
					<dt id="state.EditorSelection.addRange">
						<code
							><strong
								><a href="#state.EditorSelection.addRange"
									>addRange</a
								></strong
							>(<a
								id="state.EditorSelection.addRange^range"
								href="#state.EditorSelection.addRange^range"
								><span class="param">range</span></a
							>:&nbsp;<a href="#state.SelectionRange"
								><span class="type">SelectionRange</span></a
							>,
							<a
								id="state.EditorSelection.addRange^main"
								href="#state.EditorSelection.addRange^main"
								><span class="param">main</span></a
							>⁠?:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"
								><span class="prim">boolean</span></a
							><span class="defaultvalue"> = true</span>)
							→&nbsp;<a href="#state.EditorSelection"
								><span class="type">EditorSelection</span></a
							></code
						>
					</dt>

					<dd><p>Extend this selection with an extra range.</p></dd>
					<dt id="state.EditorSelection.replaceRange">
						<code
							><strong
								><a href="#state.EditorSelection.replaceRange"
									>replaceRange</a
								></strong
							>(<a
								id="state.EditorSelection.replaceRange^range"
								href="#state.EditorSelection.replaceRange^range"
								><span class="param">range</span></a
							>:&nbsp;<a href="#state.SelectionRange"
								><span class="type">SelectionRange</span></a
							>,
							<a
								id="state.EditorSelection.replaceRange^which"
								href="#state.EditorSelection.replaceRange^which"
								><span class="param">which</span></a
							>⁠?:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							><span class="defaultvalue"> = this.mainIndex</span
							>) →&nbsp;<a href="#state.EditorSelection"
								><span class="type">EditorSelection</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Replace a given range with another range, and then
							normalize the selection to merge and sort ranges if
							necessary.
						</p>
					</dd>
					<dt id="state.EditorSelection.toJSON">
						<code
							><strong
								><a href="#state.EditorSelection.toJSON"
									>toJSON</a
								></strong
							>() →&nbsp;<span class="type">any</span></code
						>
					</dt>

					<dd>
						<p>
							Convert this selection to an object that can be
							serialized to JSON.
						</p>
					</dd>
					<dt id="state.EditorSelection^fromJSON">
						<code
							><span class="keyword">static</span>
							<strong
								><a href="#state.EditorSelection^fromJSON"
									>fromJSON</a
								></strong
							>(<a
								id="state.EditorSelection^fromJSON^json"
								href="#state.EditorSelection^fromJSON^json"
								><span class="param">json</span></a
							>:&nbsp;<span class="type">any</span>) →&nbsp;<a
								href="#state.EditorSelection"
								><span class="type">EditorSelection</span></a
							></code
						>
					</dt>

					<dd>
						<p>Create a selection from a JSON representation.</p>
					</dd>
					<dt id="state.EditorSelection^single">
						<code
							><span class="keyword">static</span>
							<strong
								><a href="#state.EditorSelection^single"
									>single</a
								></strong
							>(<a
								id="state.EditorSelection^single^anchor"
								href="#state.EditorSelection^single^anchor"
								><span class="param">anchor</span></a
							>:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							>,
							<a
								id="state.EditorSelection^single^head"
								href="#state.EditorSelection^single^head"
								><span class="param">head</span></a
							>⁠?:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							><span class="defaultvalue"> = anchor</span>)
							→&nbsp;<a href="#state.EditorSelection"
								><span class="type">EditorSelection</span></a
							></code
						>
					</dt>

					<dd><p>Create a selection holding a single range.</p></dd>
					<dt id="state.EditorSelection^create">
						<code
							><span class="keyword">static</span>
							<strong
								><a href="#state.EditorSelection^create"
									>create</a
								></strong
							>(
							<div class="breaktype">
								<a
									id="state.EditorSelection^create^ranges"
									href="#state.EditorSelection^create^ranges"
									><span class="param">ranges</span></a
								>:&nbsp;<span class="keyword">readonly</span
								>&nbsp;<a href="#state.SelectionRange"
									><span class="type">SelectionRange</span></a
								>[],
							</div>
							<div class="breaktype">
								<a
									id="state.EditorSelection^create^mainIndex"
									href="#state.EditorSelection^create^mainIndex"
									><span class="param">mainIndex</span></a
								>⁠?:&nbsp;<a
									href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
									><span class="prim">number</span></a
								><span class="defaultvalue"> = 0</span>
							</div>
							) →&nbsp;<a href="#state.EditorSelection"
								><span class="type">EditorSelection</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Sort and merge the given set of ranges, creating a
							valid selection.
						</p>
					</dd>
					<dt id="state.EditorSelection^cursor">
						<code
							><span class="keyword">static</span>
							<strong
								><a href="#state.EditorSelection^cursor"
									>cursor</a
								></strong
							>(
							<div class="breaktype">
								<a
									id="state.EditorSelection^cursor^pos"
									href="#state.EditorSelection^cursor^pos"
									><span class="param">pos</span></a
								>:&nbsp;<a
									href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
									><span class="prim">number</span></a
								>,
							</div>
							<div class="breaktype">
								<a
									id="state.EditorSelection^cursor^assoc"
									href="#state.EditorSelection^cursor^assoc"
									><span class="param">assoc</span></a
								>⁠?:&nbsp;<a
									href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
									><span class="prim">number</span></a
								><span class="defaultvalue"> = 0</span>,
							</div>
							<div class="breaktype">
								<a
									id="state.EditorSelection^cursor^bidiLevel"
									href="#state.EditorSelection^cursor^bidiLevel"
									><span class="param">bidiLevel</span></a
								>⁠?:&nbsp;<a
									href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
									><span class="prim">number</span></a
								>,
							</div>
							<div class="breaktype">
								<a
									id="state.EditorSelection^cursor^goalColumn"
									href="#state.EditorSelection^cursor^goalColumn"
									><span class="param">goalColumn</span></a
								>⁠?:&nbsp;<a
									href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
									><span class="prim">number</span></a
								>
							</div>
							) →&nbsp;<a href="#state.SelectionRange"
								><span class="type">SelectionRange</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Create a cursor selection range at the given
							position. You can safely ignore the optional
							arguments in most situations.
						</p>
					</dd>
					<dt id="state.EditorSelection^range">
						<code
							><span class="keyword">static</span>
							<strong
								><a href="#state.EditorSelection^range"
									>range</a
								></strong
							>(
							<div class="breaktype">
								<a
									id="state.EditorSelection^range^anchor"
									href="#state.EditorSelection^range^anchor"
									><span class="param">anchor</span></a
								>:&nbsp;<a
									href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
									><span class="prim">number</span></a
								>,
							</div>
							<div class="breaktype">
								<a
									id="state.EditorSelection^range^head"
									href="#state.EditorSelection^range^head"
									><span class="param">head</span></a
								>:&nbsp;<a
									href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
									><span class="prim">number</span></a
								>,
							</div>
							<div class="breaktype">
								<a
									id="state.EditorSelection^range^goalColumn"
									href="#state.EditorSelection^range^goalColumn"
									><span class="param">goalColumn</span></a
								>⁠?:&nbsp;<a
									href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
									><span class="prim">number</span></a
								>,
							</div>
							<div class="breaktype">
								<a
									id="state.EditorSelection^range^bidiLevel"
									href="#state.EditorSelection^range^bidiLevel"
									><span class="param">bidiLevel</span></a
								>⁠?:&nbsp;<a
									href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
									><span class="prim">number</span></a
								>
							</div>
							) →&nbsp;<a href="#state.SelectionRange"
								><span class="type">SelectionRange</span></a
							></code
						>
					</dt>

					<dd><p>Create a selection range.</p></dd>
				</dl>
			</dd>
			<dt id="state.CharCategory">
				<code
					><span class="keyword">enum</span>
					<strong
						><a href="#state.CharCategory">CharCategory</a></strong
					></code
				>
			</dt>

			<dd>
				<p>
					The categories produced by a
					<a href="#state.EditorState.charCategorizer"
						>character categorizer</a
					>. These are used do things like selecting by word.
				</p>
				<dl>
					<dt id="state.CharCategory.Word">
						<code
							><strong
								><a href="#state.CharCategory.Word"
									>Word</a
								></strong
							></code
						>
					</dt>
					<dd><p>Word characters.</p></dd>
					<dt id="state.CharCategory.Space">
						<code
							><strong
								><a href="#state.CharCategory.Space"
									>Space</a
								></strong
							></code
						>
					</dt>
					<dd><p>Whitespace.</p></dd>
					<dt id="state.CharCategory.Other">
						<code
							><strong
								><a href="#state.CharCategory.Other"
									>Other</a
								></strong
							></code
						>
					</dt>
					<dd><p>Anything else.</p></dd>
				</dl>
			</dd>
		</dl>
		<h3 id="h_text" tabindex="-1">Text</h3>
		<p>
			The <code>Text</code> type stores documents in an immutable
			tree-shaped representation that allows:
		</p>
		<ul>
			<li>
				<p>
					Efficient indexing both by code unit offset and by line
					number.
				</p>
			</li>
			<li>
				<p>Structure-sharing immutable updates.</p>
			</li>
			<li>
				<p>
					Access to and iteration over parts of the document without
					copying or concatenating big strings.
				</p>
			</li>
		</ul>
		<p>
			Line numbers start at 1. Character positions are counted from zero,
			and count each line break and UTF-16 code unit as one unit.
		</p>
		<dl>
			<dt id="state.Text">
				<h4>
					<code><span class="keyword">class</span></code>
					<a href="#state.Text">Text</a>
					<code
						><span class="keyword">implements</span>
						<a
							href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#The_iterable_protocol"
							><span class="type">Iterable</span></a
						>&lt;<a
							href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"
							><span class="prim">string</span></a
						>&gt;</code
					>
				</h4>
			</dt>

			<dd>
				<p>The data structure for documents.</p>
				<dl>
					<dt id="state.Text.length">
						<code
							><strong
								><a href="#state.Text.length">length</a></strong
							>:
							<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							></code
						>
					</dt>

					<dd><p>The length of the string.</p></dd>
					<dt id="state.Text.lines">
						<code
							><strong
								><a href="#state.Text.lines">lines</a></strong
							>:
							<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							The number of lines in the string (always &gt;= 1).
						</p>
					</dd>
					<dt id="state.Text.lineAt">
						<code
							><strong
								><a href="#state.Text.lineAt">lineAt</a></strong
							>(<a
								id="state.Text.lineAt^pos"
								href="#state.Text.lineAt^pos"
								><span class="param">pos</span></a
							>:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							>) →&nbsp;<a href="#state.Line"
								><span class="type">Line</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Get the line description around the given position.
						</p>
					</dd>
					<dt id="state.Text.line">
						<code
							><strong><a href="#state.Text.line">line</a></strong
							>(<a
								id="state.Text.line^n"
								href="#state.Text.line^n"
								><span class="param">n</span></a
							>:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							>) →&nbsp;<a href="#state.Line"
								><span class="type">Line</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Get the description for the given (1-based) line
							number.
						</p>
					</dd>
					<dt id="state.Text.replace">
						<code
							><strong
								><a href="#state.Text.replace"
									>replace</a
								></strong
							>(<a
								id="state.Text.replace^from"
								href="#state.Text.replace^from"
								><span class="param">from</span></a
							>:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							>,
							<a
								id="state.Text.replace^to"
								href="#state.Text.replace^to"
								><span class="param">to</span></a
							>:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							>,
							<a
								id="state.Text.replace^text"
								href="#state.Text.replace^text"
								><span class="param">text</span></a
							>:&nbsp;<a href="#state.Text"
								><span class="type">Text</span></a
							>) →&nbsp;<a href="#state.Text"
								><span class="type">Text</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Replace a range of the text with the given content.
						</p>
					</dd>
					<dt id="state.Text.append">
						<code
							><strong
								><a href="#state.Text.append">append</a></strong
							>(<a
								id="state.Text.append^other"
								href="#state.Text.append^other"
								><span class="param">other</span></a
							>:&nbsp;<a href="#state.Text"
								><span class="type">Text</span></a
							>) →&nbsp;<a href="#state.Text"
								><span class="type">Text</span></a
							></code
						>
					</dt>

					<dd><p>Append another document to this one.</p></dd>
					<dt id="state.Text.slice">
						<code
							><strong
								><a href="#state.Text.slice">slice</a></strong
							>(<a
								id="state.Text.slice^from"
								href="#state.Text.slice^from"
								><span class="param">from</span></a
							>:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							>,
							<a
								id="state.Text.slice^to"
								href="#state.Text.slice^to"
								><span class="param">to</span></a
							>⁠?:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							><span class="defaultvalue"> = this.length</span>)
							→&nbsp;<a href="#state.Text"
								><span class="type">Text</span></a
							></code
						>
					</dt>

					<dd><p>Retrieve the text between the given points.</p></dd>
					<dt id="state.Text.sliceString">
						<code
							><strong
								><a href="#state.Text.sliceString"
									>sliceString</a
								></strong
							>(<a
								id="state.Text.sliceString^from"
								href="#state.Text.sliceString^from"
								><span class="param">from</span></a
							>:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							>,
							<a
								id="state.Text.sliceString^to"
								href="#state.Text.sliceString^to"
								><span class="param">to</span></a
							>⁠?:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							>,
							<a
								id="state.Text.sliceString^lineSep"
								href="#state.Text.sliceString^lineSep"
								><span class="param">lineSep</span></a
							>⁠?:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"
								><span class="prim">string</span></a
							>) →&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"
								><span class="prim">string</span></a
							></code
						>
					</dt>

					<dd><p>Retrieve a part of the document as a string</p></dd>
					<dt id="state.Text.eq">
						<code
							><strong><a href="#state.Text.eq">eq</a></strong
							>(<a
								id="state.Text.eq^other"
								href="#state.Text.eq^other"
								><span class="param">other</span></a
							>:&nbsp;<a href="#state.Text"
								><span class="type">Text</span></a
							>) →&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"
								><span class="prim">boolean</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Test whether this text is equal to another instance.
						</p>
					</dd>
					<dt id="state.Text.iter">
						<code
							><strong><a href="#state.Text.iter">iter</a></strong
							>(<a
								id="state.Text.iter^dir"
								href="#state.Text.iter^dir"
								><span class="param">dir</span></a
							>⁠?:&nbsp;<span class="type">1</span> |
							<span class="type">-1</span
							><span class="defaultvalue"> = 1</span>) →&nbsp;<a
								href="#state.TextIterator"
								><span class="type">TextIterator</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Iterate over the text. When <code>dir</code> is
							<code>-1</code>, iteration happens from end to
							start. This will return lines and the breaks between
							them as separate strings.
						</p>
					</dd>
					<dt id="state.Text.iterRange">
						<code
							><strong
								><a href="#state.Text.iterRange"
									>iterRange</a
								></strong
							>(<a
								id="state.Text.iterRange^from"
								href="#state.Text.iterRange^from"
								><span class="param">from</span></a
							>:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							>,
							<a
								id="state.Text.iterRange^to"
								href="#state.Text.iterRange^to"
								><span class="param">to</span></a
							>⁠?:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							><span class="defaultvalue"> = this.length</span>)
							→&nbsp;<a href="#state.TextIterator"
								><span class="type">TextIterator</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Iterate over a range of the text. When
							<code>from</code> &gt; <code>to</code>, the iterator
							will run in reverse.
						</p>
					</dd>
					<dt id="state.Text.iterLines">
						<code
							><strong
								><a href="#state.Text.iterLines"
									>iterLines</a
								></strong
							>(<a
								id="state.Text.iterLines^from"
								href="#state.Text.iterLines^from"
								><span class="param">from</span></a
							>⁠?:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							>,
							<a
								id="state.Text.iterLines^to"
								href="#state.Text.iterLines^to"
								><span class="param">to</span></a
							>⁠?:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							>) →&nbsp;<a href="#state.TextIterator"
								><span class="type">TextIterator</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Return a cursor that iterates over the given range
							of lines, <em>without</em> returning the line breaks
							between, and yielding empty strings for empty lines.
						</p>
						<p>
							When <code>from</code> and <code>to</code> are
							given, they should be 1-based line numbers.
						</p>
					</dd>
					<dt id="state.Text.toString">
						<code
							><strong
								><a href="#state.Text.toString"
									>toString</a
								></strong
							>() →&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"
								><span class="prim">string</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Return the document as a string, using newline
							characters to separate lines.
						</p>
					</dd>
					<dt id="state.Text.toJSON">
						<code
							><strong
								><a href="#state.Text.toJSON">toJSON</a></strong
							>() →&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"
								><span class="prim">string</span></a
							>[]</code
						>
					</dt>

					<dd>
						<p>
							Convert the document to an array of lines (which can
							be deserialized again via
							<a href="#state.Text%5Eof"><code>Text.of</code></a
							>).
						</p>
					</dd>
					<dt id="state.Text.children">
						<code
							><strong
								><a href="#state.Text.children"
									>children</a
								></strong
							>: <span class="keyword">readonly</span>&nbsp;<a
								href="#state.Text"
								><span class="type">Text</span></a
							>[] |
							<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"
								><span class="prim">null</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							If this is a branch node, <code>children</code> will
							hold the <code>Text</code> objects that it is made
							up of. For leaf nodes, this holds null.
						</p>
					</dd>
					<dt id="state.Text.[symbol iterator]">
						<code
							><strong
								><a href="#state.Text.[symbol iterator]"
									>[symbol iterator]</a
								></strong
							>() →&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols"
								><span class="type">Iterator</span></a
							>&lt;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"
								><span class="prim">string</span></a
							>&gt;</code
						>
					</dt>

					<dd><p>@hide</p></dd>
					<dt id="state.Text^of">
						<code
							><span class="keyword">static</span>
							<strong><a href="#state.Text^of">of</a></strong
							>(<a
								id="state.Text^of^text"
								href="#state.Text^of^text"
								><span class="param">text</span></a
							>:&nbsp;<span class="keyword">readonly</span
							>&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"
								><span class="prim">string</span></a
							>[]) →&nbsp;<a href="#state.Text"
								><span class="type">Text</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Create a <code>Text</code> instance for the given
							array of lines.
						</p>
					</dd>
					<dt id="state.Text^empty">
						<code
							><span class="keyword">static</span>
							<strong
								><a href="#state.Text^empty">empty</a></strong
							>:
							<a href="#state.Text"
								><span class="type">Text</span></a
							></code
						>
					</dt>

					<dd><p>The empty document.</p></dd>
				</dl>
			</dd>
			<dt id="state.Line">
				<h4>
					<code><span class="keyword">class</span></code>
					<a href="#state.Line">Line</a>
				</h4>
			</dt>

			<dd>
				<p>
					This type describes a line in the document. It is created
					on-demand when lines are
					<a href="#state.Text.lineAt">queried</a>.
				</p>
				<dl>
					<dt id="state.Line.from">
						<code
							><strong><a href="#state.Line.from">from</a></strong
							>:
							<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							></code
						>
					</dt>

					<dd><p>The position of the start of the line.</p></dd>
					<dt id="state.Line.to">
						<code
							><strong><a href="#state.Line.to">to</a></strong
							>:
							<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							The position at the end of the line (<em>before</em>
							the line break, or at the end of document for the
							last line).
						</p>
					</dd>
					<dt id="state.Line.number">
						<code
							><strong
								><a href="#state.Line.number">number</a></strong
							>:
							<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							></code
						>
					</dt>

					<dd><p>This line's line number (1-based).</p></dd>
					<dt id="state.Line.text">
						<code
							><strong><a href="#state.Line.text">text</a></strong
							>:
							<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"
								><span class="prim">string</span></a
							></code
						>
					</dt>

					<dd><p>The line's content.</p></dd>
					<dt id="state.Line.length">
						<code
							><strong
								><a href="#state.Line.length">length</a></strong
							>:
							<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							The length of the line (not including any line break
							after it).
						</p>
					</dd>
				</dl>
			</dd>
			<dt id="state.TextIterator">
				<h4>
					<code><span class="keyword">interface</span></code>
					<a href="#state.TextIterator">TextIterator</a>
					<code
						><span class="keyword">extends</span>
						<a
							href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols"
							><span class="type">Iterator</span></a
						>&lt;<a
							href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"
							><span class="prim">string</span></a
						>&gt;</code
					>
					<code
						><span class="keyword">extends</span>
						<a
							href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#The_iterable_protocol"
							><span class="type">Iterable</span></a
						>&lt;<a
							href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"
							><span class="prim">string</span></a
						>&gt;</code
					>
				</h4>
			</dt>

			<dd>
				<p>
					A text iterator iterates over a sequence of strings. When
					iterating over a
					<a href="#state.Text"><code>Text</code></a> document, result
					values will either be lines or line breaks.
				</p>
				<dl>
					<dt id="state.TextIterator.next">
						<code
							><strong
								><a href="#state.TextIterator.next"
									>next</a
								></strong
							>(<a
								id="state.TextIterator.next^skip"
								href="#state.TextIterator.next^skip"
								><span class="param">skip</span></a
							>⁠?:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							>) →&nbsp;<a href="#state.TextIterator"
								><span class="type">TextIterator</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Retrieve the next string. Optionally skip a given
							number of positions after the current position.
							Always returns the object itself.
						</p>
					</dd>
					<dt id="state.TextIterator.value">
						<code
							><strong
								><a href="#state.TextIterator.value"
									>value</a
								></strong
							>:
							<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"
								><span class="prim">string</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							The current string. Will be the empty string when
							the cursor is at its end or <code>next</code> hasn't
							been called on it yet.
						</p>
					</dd>
					<dt id="state.TextIterator.done">
						<code
							><strong
								><a href="#state.TextIterator.done"
									>done</a
								></strong
							>:
							<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"
								><span class="prim">boolean</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Whether the end of the iteration has been reached.
							You should probably check this right after calling
							<code>next</code>.
						</p>
					</dd>
					<dt id="state.TextIterator.lineBreak">
						<code
							><strong
								><a href="#state.TextIterator.lineBreak"
									>lineBreak</a
								></strong
							>:
							<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"
								><span class="prim">boolean</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Whether the current string represents a line break.
						</p>
					</dd>
				</dl>
			</dd>
		</dl>
		<h4 id="h_column_utilities" tabindex="-1">Column Utilities</h4>
		<dl>
			<dt id="state.countColumn">
				<code
					><strong
						><a href="#state.countColumn">countColumn</a></strong
					>(
					<div class="breaktype">
						<a
							id="state.countColumn^string"
							href="#state.countColumn^string"
							><span class="param">string</span></a
						>:&nbsp;<a
							href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"
							><span class="prim">string</span></a
						>,
					</div>
					<div class="breaktype">
						<a
							id="state.countColumn^tabSize"
							href="#state.countColumn^tabSize"
							><span class="param">tabSize</span></a
						>:&nbsp;<a
							href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
							><span class="prim">number</span></a
						>,
					</div>
					<div class="breaktype">
						<a
							id="state.countColumn^to"
							href="#state.countColumn^to"
							><span class="param">to</span></a
						>⁠?:&nbsp;<a
							href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
							><span class="prim">number</span></a
						><span class="defaultvalue"> = string.length</span>
					</div>
					) →&nbsp;<a
						href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
						><span class="prim">number</span></a
					></code
				>
			</dt>

			<dd>
				<p>
					Count the column position at the given offset into the
					string, taking extending characters and tab size into
					account.
				</p>
			</dd>
			<dt id="state.findColumn">
				<code
					><strong><a href="#state.findColumn">findColumn</a></strong
					>(
					<div class="breaktype">
						<a
							id="state.findColumn^string"
							href="#state.findColumn^string"
							><span class="param">string</span></a
						>:&nbsp;<a
							href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"
							><span class="prim">string</span></a
						>,
					</div>
					<div class="breaktype">
						<a
							id="state.findColumn^col"
							href="#state.findColumn^col"
							><span class="param">col</span></a
						>:&nbsp;<a
							href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
							><span class="prim">number</span></a
						>,
					</div>
					<div class="breaktype">
						<a
							id="state.findColumn^tabSize"
							href="#state.findColumn^tabSize"
							><span class="param">tabSize</span></a
						>:&nbsp;<a
							href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
							><span class="prim">number</span></a
						>,
					</div>
					<div class="breaktype">
						<a
							id="state.findColumn^strict"
							href="#state.findColumn^strict"
							><span class="param">strict</span></a
						>⁠?:&nbsp;<a
							href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"
							><span class="prim">boolean</span></a
						>
					</div>
					) →&nbsp;<a
						href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
						><span class="prim">number</span></a
					></code
				>
			</dt>

			<dd>
				<p>
					Find the offset that corresponds to the given column
					position in a string, taking extending characters and tab
					size into account. By default, the string length is returned
					when it is too short to reach the column. Pass
					<code>strict</code> true to make it return -1 in that
					situation.
				</p>
			</dd>
		</dl>
		<h4 id="h_code_points_and_characters" tabindex="-1">
			Code Points and Characters
		</h4>
		<p>
			If you support environments that don't yet have
			<code>String.fromCodePoint</code> and <code>codePointAt</code>, this
			package provides portable replacements for them.
		</p>
		<dl>
			<dt id="state.codePointAt">
				<code
					><strong
						><a href="#state.codePointAt">codePointAt</a></strong
					>(<a
						id="state.codePointAt^str"
						href="#state.codePointAt^str"
						><span class="param">str</span></a
					>:&nbsp;<a
						href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"
						><span class="prim">string</span></a
					>,
					<a id="state.codePointAt^pos" href="#state.codePointAt^pos"
						><span class="param">pos</span></a
					>:&nbsp;<a
						href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
						><span class="prim">number</span></a
					>) →&nbsp;<a
						href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
						><span class="prim">number</span></a
					></code
				>
			</dt>

			<dd>
				<p>
					Find the code point at the given position in a string (like
					the
					<a
						href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/codePointAt"
						><code>codePointAt</code></a
					>
					string method).
				</p>
			</dd>
			<dt id="state.fromCodePoint">
				<code
					><strong
						><a href="#state.fromCodePoint"
							>fromCodePoint</a
						></strong
					>(<a
						id="state.fromCodePoint^code"
						href="#state.fromCodePoint^code"
						><span class="param">code</span></a
					>:&nbsp;<a
						href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
						><span class="prim">number</span></a
					>) →&nbsp;<a
						href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"
						><span class="prim">string</span></a
					></code
				>
			</dt>

			<dd>
				<p>
					Given a Unicode codepoint, return the JavaScript string that
					respresents it (like
					<a
						href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/fromCodePoint"
						><code>String.fromCodePoint</code></a
					>).
				</p>
			</dd>
			<dt id="state.codePointSize">
				<code
					><strong
						><a href="#state.codePointSize"
							>codePointSize</a
						></strong
					>(<a
						id="state.codePointSize^code"
						href="#state.codePointSize^code"
						><span class="param">code</span></a
					>:&nbsp;<a
						href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
						><span class="prim">number</span></a
					>) →&nbsp;<span class="type">1</span> |
					<span class="type">2</span></code
				>
			</dt>

			<dd>
				<p>
					The amount of positions a character takes up in a JavaScript
					string.
				</p>
			</dd>
			<dt id="state.findClusterBreak">
				<code
					><strong
						><a href="#state.findClusterBreak"
							>findClusterBreak</a
						></strong
					>(
					<div class="breaktype">
						<a
							id="state.findClusterBreak^str"
							href="#state.findClusterBreak^str"
							><span class="param">str</span></a
						>:&nbsp;<a
							href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"
							><span class="prim">string</span></a
						>,
					</div>
					<div class="breaktype">
						<a
							id="state.findClusterBreak^pos"
							href="#state.findClusterBreak^pos"
							><span class="param">pos</span></a
						>:&nbsp;<a
							href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
							><span class="prim">number</span></a
						>,
					</div>
					<div class="breaktype">
						<a
							id="state.findClusterBreak^forward"
							href="#state.findClusterBreak^forward"
							><span class="param">forward</span></a
						>⁠?:&nbsp;<a
							href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"
							><span class="prim">boolean</span></a
						><span class="defaultvalue"> = true</span>,
					</div>
					<div class="breaktype">
						<a
							id="state.findClusterBreak^includeExtending"
							href="#state.findClusterBreak^includeExtending"
							><span class="param">includeExtending</span></a
						>⁠?:&nbsp;<a
							href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"
							><span class="prim">boolean</span></a
						><span class="defaultvalue"> = true</span>
					</div>
					) →&nbsp;<a
						href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
						><span class="prim">number</span></a
					></code
				>
			</dt>

			<dd>
				<p>
					Returns a next grapheme cluster break <em>after</em> (not
					equal to) <code>pos</code>, if <code>forward</code> is true,
					or before otherwise. Returns <code>pos</code>
					itself if no further cluster break is available in the
					string. Moves across surrogate pairs, extending characters
					(when
					<code>includeExtending</code> is true), characters joined
					with zero-width joiners, and flag emoji.
				</p>
			</dd>
		</dl>
		<h3 id="h_changes_and_transactions" tabindex="-1">
			Changes and Transactions
		</h3>
		<p>
			CodeMirror treats changes to the document as
			<a href="#state.ChangeSet">objects</a>, which are usually part of a
			<a href="#state.Transaction">transaction</a>.
		</p>
		<p>
			This is how you'd make a change to a document (replacing “world”
			with “editor”) and create a new state with the updated document:
		</p>
		<pre><code class="language-javascript"><span class="tok-keyword">let</span> <span class="tok-variableName tok-definition">state</span> <span class="tok-operator">=</span> <span class="tok-variableName">EditorState</span><span class="tok-operator">.</span><span class="tok-propertyName">create</span><span class="tok-punctuation">(</span><span class="tok-punctuation">{</span><span class="tok-propertyName tok-definition">doc</span><span class="tok-punctuation">:</span> <span class="tok-string">"hello world"</span><span class="tok-punctuation">}</span><span class="tok-punctuation">)</span>
<span class="tok-keyword">let</span> <span class="tok-variableName tok-definition">transaction</span> <span class="tok-operator">=</span> <span class="tok-variableName">state</span><span class="tok-operator">.</span><span class="tok-propertyName">update</span><span class="tok-punctuation">(</span><span class="tok-punctuation">{</span><span class="tok-propertyName tok-definition">changes</span><span class="tok-punctuation">:</span> <span class="tok-punctuation">{</span><span class="tok-propertyName tok-definition">from</span><span class="tok-punctuation">:</span> <span class="tok-number">6</span><span class="tok-punctuation">,</span> <span class="tok-propertyName tok-definition">to</span><span class="tok-punctuation">:</span> <span class="tok-number">11</span><span class="tok-punctuation">,</span> <span class="tok-propertyName tok-definition">insert</span><span class="tok-punctuation">:</span> <span class="tok-string">"editor"</span><span class="tok-punctuation">}</span><span class="tok-punctuation">}</span><span class="tok-punctuation">)</span>
<span class="tok-variableName">console</span><span class="tok-operator">.</span><span class="tok-propertyName">log</span><span class="tok-punctuation">(</span><span class="tok-variableName">transaction</span><span class="tok-operator">.</span><span class="tok-propertyName">state</span><span class="tok-operator">.</span><span class="tok-propertyName">doc</span><span class="tok-operator">.</span><span class="tok-propertyName">toString</span><span class="tok-punctuation">(</span><span class="tok-punctuation">)</span><span class="tok-punctuation">)</span> <span class="tok-comment">// "hello editor"</span>
</code></pre>
		<dl>
			<dt id="state.TransactionSpec">
				<h4>
					<code><span class="keyword">interface</span></code>
					<a href="#state.TransactionSpec">TransactionSpec</a>
				</h4>
			</dt>

			<dd>
				<p>
					Describes a
					<a href="#state.Transaction">transaction</a> when calling
					the
					<a href="#state.EditorState.update"
						><code>EditorState.update</code></a
					>
					method.
				</p>
				<dl>
					<dt id="state.TransactionSpec.changes">
						<code
							><strong
								><a href="#state.TransactionSpec.changes"
									>changes</a
								></strong
							>⁠?:
							<a href="#state.ChangeSpec"
								><span class="type">ChangeSpec</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							The changes to the document made by this
							transaction.
						</p>
					</dd>
					<dt id="state.TransactionSpec.selection">
						<code
							><strong
								><a href="#state.TransactionSpec.selection"
									>selection</a
								></strong
							>⁠?:
							<a href="#state.EditorSelection"
								><span class="type">EditorSelection</span></a
							>
							|
							<div class="breaktype">
								{<span class="prop">anchor</span>:&nbsp;<a
									href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
									><span class="prim">number</span></a
								>, <span class="prop">head</span>⁠?:&nbsp;<a
									href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
									><span class="prim">number</span></a
								>} |
							</div>
							<div class="breaktype">
								<a
									href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined"
									><span class="prim">undefined</span></a
								>
							</div></code
						>
					</dt>

					<dd>
						<p>
							When set, this transaction explicitly updates the
							selection. Offsets in this selection should refer to
							the document as it is <em>after</em> the
							transaction.
						</p>
					</dd>
					<dt id="state.TransactionSpec.effects">
						<code
							><strong
								><a href="#state.TransactionSpec.effects"
									>effects</a
								></strong
							>⁠?:
							<a href="#state.StateEffect"
								><span class="type">StateEffect</span></a
							>&lt;<span class="type">any</span>&gt; |
							<span class="keyword">readonly</span>&nbsp;<a
								href="#state.StateEffect"
								><span class="type">StateEffect</span></a
							>&lt;<span class="type">any</span>&gt;[]</code
						>
					</dt>

					<dd>
						<p>
							Attach
							<a href="#state.StateEffect">state effects</a> to
							this transaction. Again, when they contain positions
							and this same spec makes changes, those positions
							should refer to positions in the updated document.
						</p>
					</dd>
					<dt id="state.TransactionSpec.annotations">
						<code
							><strong
								><a href="#state.TransactionSpec.annotations"
									>annotations</a
								></strong
							>⁠?:
							<a href="#state.Annotation"
								><span class="type">Annotation</span></a
							>&lt;<span class="type">any</span>&gt; |
							<span class="keyword">readonly</span>&nbsp;<a
								href="#state.Annotation"
								><span class="type">Annotation</span></a
							>&lt;<span class="type">any</span>&gt;[]</code
						>
					</dt>

					<dd>
						<p>
							Set <a href="#state.Annotation">annotations</a> for
							this transaction.
						</p>
					</dd>
					<dt id="state.TransactionSpec.userEvent">
						<code
							><strong
								><a href="#state.TransactionSpec.userEvent"
									>userEvent</a
								></strong
							>⁠?:
							<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"
								><span class="prim">string</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Shorthand for <code>annotations:</code>
							<a href="#state.Transaction%5EuserEvent"
								><code>Transaction.userEvent</code></a
							><code>.of(...)</code>.
						</p>
					</dd>
					<dt id="state.TransactionSpec.scrollIntoView">
						<code
							><strong
								><a href="#state.TransactionSpec.scrollIntoView"
									>scrollIntoView</a
								></strong
							>⁠?:
							<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"
								><span class="prim">boolean</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							When set to <code>true</code>, the transaction is
							marked as needing to scroll the current selection
							into view.
						</p>
					</dd>
					<dt id="state.TransactionSpec.filter">
						<code
							><strong
								><a href="#state.TransactionSpec.filter"
									>filter</a
								></strong
							>⁠?:
							<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"
								><span class="prim">boolean</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							By default, transactions can be modified by
							<a href="#state.EditorState%5EchangeFilter"
								>change filters</a
							>
							and
							<a href="#state.EditorState%5EtransactionFilter"
								>transaction filters</a
							>. You can set this to <code>false</code> to disable
							that. This can be necessary for transactions that,
							for example, include annotations that must be kept
							consistent with their changes.
						</p>
					</dd>
					<dt id="state.TransactionSpec.sequential">
						<code
							><strong
								><a href="#state.TransactionSpec.sequential"
									>sequential</a
								></strong
							>⁠?:
							<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"
								><span class="prim">boolean</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Normally, when multiple specs are combined (for
							example by
							<a href="#state.EditorState.update"
								><code>EditorState.update</code></a
							>), the positions in <code>changes</code> are taken
							to refer to the document positions in the initial
							document. When a spec has <code>sequental</code> set
							to true, its positions will be taken to refer to the
							document created by the specs before it instead.
						</p>
					</dd>
				</dl>
			</dd>
			<dt id="state.ChangeSpec">
				<code>
					<span class="keyword">type</span>
					<strong><a href="#state.ChangeSpec">ChangeSpec</a></strong>
					= {<span class="prop">from</span>:&nbsp;<a
						href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
						><span class="prim">number</span></a
					>, <span class="prop">to</span>⁠?:&nbsp;<a
						href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
						><span class="prim">number</span></a
					>, <span class="prop">insert</span>⁠?:&nbsp;<a
						href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"
						><span class="prim">string</span></a
					>
					| <a href="#state.Text"><span class="type">Text</span></a
					>} |
					<div class="breaktype">
						<a href="#state.ChangeSet"
							><span class="type">ChangeSet</span></a
						>
						|
					</div>
					<div class="breaktype">
						<span class="keyword">readonly</span>&nbsp;<a
							href="#state.ChangeSpec"
							><span class="type">ChangeSpec</span></a
						>[]
					</div></code
				>
			</dt>

			<dd>
				<p>
					This type is used as argument to
					<a href="#state.EditorState.changes"
						><code>EditorState.changes</code></a
					>
					and in the
					<a href="#state.TransactionSpec.changes"
						><code>changes</code> field</a
					>
					of transaction specs to succinctly describe document
					changes. It may either be a plain object describing a change
					(a deletion, insertion, or replacement, depending on which
					fields are present), a
					<a href="#state.ChangeSet">change set</a>, or an array of
					change specs.
				</p>
			</dd>
			<dt id="state.Transaction">
				<h4>
					<code><span class="keyword">class</span></code>
					<a href="#state.Transaction">Transaction</a>
				</h4>
			</dt>

			<dd>
				<p>
					Changes to the editor state are grouped into transactions.
					Typically, a user action creates a single transaction, which
					may contain any number of document changes, may change the
					selection, or have other effects. Create a transaction by
					calling
					<a href="#state.EditorState.update"
						><code>EditorState.update</code></a
					>, or immediately dispatch one by calling
					<a href="#view.EditorView.dispatch"
						><code>EditorView.dispatch</code></a
					>.
				</p>
				<dl>
					<dt id="state.Transaction.startState">
						<code
							><strong
								><a href="#state.Transaction.startState"
									>startState</a
								></strong
							>:
							<a href="#state.EditorState"
								><span class="type">EditorState</span></a
							></code
						>
					</dt>

					<dd><p>The state from which the transaction starts.</p></dd>
					<dt id="state.Transaction.changes">
						<code
							><strong
								><a href="#state.Transaction.changes"
									>changes</a
								></strong
							>:
							<a href="#state.ChangeSet"
								><span class="type">ChangeSet</span></a
							></code
						>
					</dt>

					<dd>
						<p>The document changes made by this transaction.</p>
					</dd>
					<dt id="state.Transaction.selection">
						<code
							><strong
								><a href="#state.Transaction.selection"
									>selection</a
								></strong
							>:
							<a href="#state.EditorSelection"
								><span class="type">EditorSelection</span></a
							>
							|
							<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined"
								><span class="prim">undefined</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							The selection set by this transaction, or undefined
							if it doesn't explicitly set a selection.
						</p>
					</dd>
					<dt id="state.Transaction.effects">
						<code
							><strong
								><a href="#state.Transaction.effects"
									>effects</a
								></strong
							>: <span class="keyword">readonly</span>&nbsp;<a
								href="#state.StateEffect"
								><span class="type">StateEffect</span></a
							>&lt;<span class="type">any</span>&gt;[]</code
						>
					</dt>

					<dd><p>The effects added to the transaction.</p></dd>
					<dt id="state.Transaction.scrollIntoView">
						<code
							><strong
								><a href="#state.Transaction.scrollIntoView"
									>scrollIntoView</a
								></strong
							>:
							<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"
								><span class="prim">boolean</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Whether the selection should be scrolled into view
							after this transaction is dispatched.
						</p>
					</dd>
					<dt id="state.Transaction.newDoc">
						<code
							><strong
								><a href="#state.Transaction.newDoc"
									>newDoc</a
								></strong
							>:
							<a href="#state.Text"
								><span class="type">Text</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							The new document produced by the transaction.
							Contrary to
							<a href="#state.Transaction.state"
								><code>.state</code></a
							><code>.doc</code>, accessing this won't force the
							entire new state to be computed right away, so it is
							recommended that
							<a href="#state.EditorState%5EtransactionFilter"
								>transaction filters</a
							>
							use this getter when they need to look at the new
							document.
						</p>
					</dd>
					<dt id="state.Transaction.newSelection">
						<code
							><strong
								><a href="#state.Transaction.newSelection"
									>newSelection</a
								></strong
							>:
							<a href="#state.EditorSelection"
								><span class="type">EditorSelection</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							The new selection produced by the transaction. If
							<a href="#state.Transaction.selection"
								><code>this.selection</code></a
							>
							is undefined, this will
							<a href="#state.EditorSelection.map">map</a> the
							start state's current selection through the changes
							made by the transaction.
						</p>
					</dd>
					<dt id="state.Transaction.state">
						<code
							><strong
								><a href="#state.Transaction.state"
									>state</a
								></strong
							>:
							<a href="#state.EditorState"
								><span class="type">EditorState</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							The new state created by the transaction. Computed
							on demand (but retained for subsequent access), so
							it is recommended not to access it in
							<a href="#state.EditorState%5EtransactionFilter"
								>transaction filters</a
							>
							when possible.
						</p>
					</dd>
					<dt id="state.Transaction.annotation">
						<code
							><strong
								><a href="#state.Transaction.annotation"
									>annotation</a
								></strong
							>&lt;<a
								id="state.Transaction.annotation^T"
								href="#state.Transaction.annotation^T"
								>T</a
							>&gt;(<a
								id="state.Transaction.annotation^type"
								href="#state.Transaction.annotation^type"
								><span class="param">type</span></a
							>:&nbsp;<a href="#state.AnnotationType"
								><span class="type">AnnotationType</span></a
							>&lt;<a href="#state.Transaction.annotation^T"
								><span class="type">T</span></a
							>&gt;) →&nbsp;<a
								href="#state.Transaction.annotation^T"
								><span class="type">T</span></a
							>
							|
							<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined"
								><span class="prim">undefined</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Get the value of the given annotation type, if any.
						</p>
					</dd>
					<dt id="state.Transaction.docChanged">
						<code
							><strong
								><a href="#state.Transaction.docChanged"
									>docChanged</a
								></strong
							>:
							<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"
								><span class="prim">boolean</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Indicates whether the transaction changed the
							document.
						</p>
					</dd>
					<dt id="state.Transaction.reconfigured">
						<code
							><strong
								><a href="#state.Transaction.reconfigured"
									>reconfigured</a
								></strong
							>:
							<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"
								><span class="prim">boolean</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Indicates whether this transaction reconfigures the
							state (through a
							<a href="#state.Compartment"
								>configuration compartment</a
							>
							or with a top-level configuration
							<a href="#state.StateEffect%5Ereconfigure">effect</a
							>.
						</p>
					</dd>
					<dt id="state.Transaction.isUserEvent">
						<code
							><strong
								><a href="#state.Transaction.isUserEvent"
									>isUserEvent</a
								></strong
							>(<a
								id="state.Transaction.isUserEvent^event"
								href="#state.Transaction.isUserEvent^event"
								><span class="param">event</span></a
							>:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"
								><span class="prim">string</span></a
							>) →&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"
								><span class="prim">boolean</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Returns true if the transaction has a
							<a href="#state.Transaction%5EuserEvent"
								>user event</a
							>
							annotation that is equal to or more specific than
							<code>event</code>. For example, if the transaction
							has <code>"select.pointer"</code> as user event,
							<code>"select"</code> and
							<code>"select.pointer"</code> will match it.
						</p>
					</dd>
					<dt id="state.Transaction^time">
						<code
							><span class="keyword">static</span>
							<strong
								><a href="#state.Transaction^time"
									>time</a
								></strong
							>:
							<a href="#state.AnnotationType"
								><span class="type">AnnotationType</span></a
							>&lt;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							>&gt;</code
						>
					</dt>

					<dd>
						<p>
							Annotation used to store transaction timestamps.
							Automatically added to every transaction, holding
							<code>Date.now()</code>.
						</p>
					</dd>
					<dt id="state.Transaction^userEvent">
						<code
							><span class="keyword">static</span>
							<strong
								><a href="#state.Transaction^userEvent"
									>userEvent</a
								></strong
							>:
							<a href="#state.AnnotationType"
								><span class="type">AnnotationType</span></a
							>&lt;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"
								><span class="prim">string</span></a
							>&gt;</code
						>
					</dt>

					<dd>
						<p>
							Annotation used to associate a transaction with a
							user interface event. Holds a string identifying the
							event, using a dot-separated format to support
							attaching more specific information. The events used
							by the core libraries are:
						</p>
						<ul>
							<li>
								<code>"input"</code> when content is entered
								<ul>
									<li>
										<code>"input.type"</code> for typed
										input
										<ul>
											<li>
												<code
													>"input.type.compose"</code
												>
												for composition
											</li>
										</ul>
									</li>
									<li>
										<code>"input.paste"</code> for pasted
										input
									</li>
									<li>
										<code>"input.drop"</code> when adding
										content with drag-and-drop
									</li>
									<li>
										<code>"input.complete"</code> when
										autocompleting
									</li>
								</ul>
							</li>
							<li>
								<code>"delete"</code> when the user deletes
								content
								<ul>
									<li>
										<code>"delete.selection"</code> when
										deleting the selection
									</li>
									<li>
										<code>"delete.forward"</code> when
										deleting forward from the selection
									</li>
									<li>
										<code>"delete.backward"</code> when
										deleting backward from the selection
									</li>
									<li>
										<code>"delete.cut"</code> when cutting
										to the clipboard
									</li>
								</ul>
							</li>
							<li>
								<code>"move"</code> when content is moved
								<ul>
									<li>
										<code>"move.drop"</code> when content is
										moved within the editor through
										drag-and-drop
									</li>
								</ul>
							</li>
							<li>
								<code>"select"</code> when explicitly changing
								the selection
								<ul>
									<li>
										<code>"select.pointer"</code> when
										selecting with a mouse or other pointing
										device
									</li>
								</ul>
							</li>
							<li>
								<code>"undo"</code> and <code>"redo"</code> for
								history actions
							</li>
						</ul>
						<p>
							Use
							<a href="#state.Transaction.isUserEvent"
								><code>isUserEvent</code></a
							>
							to check whether the annotation matches a given
							event.
						</p>
					</dd>
					<dt id="state.Transaction^addToHistory">
						<code
							><span class="keyword">static</span>
							<strong
								><a href="#state.Transaction^addToHistory"
									>addToHistory</a
								></strong
							>:
							<a href="#state.AnnotationType"
								><span class="type">AnnotationType</span></a
							>&lt;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"
								><span class="prim">boolean</span></a
							>&gt;</code
						>
					</dt>

					<dd>
						<p>
							Annotation indicating whether a transaction should
							be added to the undo history or not.
						</p>
					</dd>
					<dt id="state.Transaction^remote">
						<code
							><span class="keyword">static</span>
							<strong
								><a href="#state.Transaction^remote"
									>remote</a
								></strong
							>:
							<a href="#state.AnnotationType"
								><span class="type">AnnotationType</span></a
							>&lt;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"
								><span class="prim">boolean</span></a
							>&gt;</code
						>
					</dt>

					<dd>
						<p>
							Annotation indicating (when present and true) that a
							transaction represents a change made by some other
							actor, not the user. This is used, for example, to
							tag other people's changes in collaborative editing.
						</p>
					</dd>
				</dl>
			</dd>
			<dt id="state.ChangeDesc">
				<h4>
					<code><span class="keyword">class</span></code>
					<a href="#state.ChangeDesc">ChangeDesc</a>
				</h4>
			</dt>

			<dd>
				<p>
					A change description is a variant of
					<a href="#state.ChangeSet">change set</a> that doesn't store
					the inserted text. As such, it can't be applied, but is
					cheaper to store and manipulate.
				</p>
				<dl>
					<dt id="state.ChangeDesc.length">
						<code
							><strong
								><a href="#state.ChangeDesc.length"
									>length</a
								></strong
							>:
							<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							></code
						>
					</dt>

					<dd>
						<p>The length of the document before the change.</p>
					</dd>
					<dt id="state.ChangeDesc.newLength">
						<code
							><strong
								><a href="#state.ChangeDesc.newLength"
									>newLength</a
								></strong
							>:
							<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							></code
						>
					</dt>

					<dd><p>The length of the document after the change.</p></dd>
					<dt id="state.ChangeDesc.empty">
						<code
							><strong
								><a href="#state.ChangeDesc.empty"
									>empty</a
								></strong
							>:
							<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"
								><span class="prim">boolean</span></a
							></code
						>
					</dt>

					<dd>
						<p>False when there are actual changes in this set.</p>
					</dd>
					<dt id="state.ChangeDesc.iterGaps">
						<code
							><strong
								><a href="#state.ChangeDesc.iterGaps"
									>iterGaps</a
								></strong
							>(<a
								id="state.ChangeDesc.iterGaps^f"
								href="#state.ChangeDesc.iterGaps^f"
								><span class="param">f</span></a
							>:&nbsp;<span class="fn">fn</span>(<a
								id="state.ChangeDesc.iterGaps^f^posA"
								href="#state.ChangeDesc.iterGaps^f^posA"
								><span class="param">posA</span></a
							>:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							>,
							<a
								id="state.ChangeDesc.iterGaps^f^posB"
								href="#state.ChangeDesc.iterGaps^f^posB"
								><span class="param">posB</span></a
							>:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							>,
							<a
								id="state.ChangeDesc.iterGaps^f^length"
								href="#state.ChangeDesc.iterGaps^f^length"
								><span class="param">length</span></a
							>:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							>))</code
						>
					</dt>

					<dd>
						<p>
							Iterate over the unchanged parts left by these
							changes.
							<code>posA</code> provides the position of the range
							in the old document, <code>posB</code> the new
							position in the changed document.
						</p>
					</dd>
					<dt id="state.ChangeDesc.iterChangedRanges">
						<code
							><strong
								><a href="#state.ChangeDesc.iterChangedRanges"
									>iterChangedRanges</a
								></strong
							>(
							<div class="breaktype">
								<a
									id="state.ChangeDesc.iterChangedRanges^f"
									href="#state.ChangeDesc.iterChangedRanges^f"
									><span class="param">f</span></a
								>:&nbsp;<span class="fn">fn</span>(<a
									id="state.ChangeDesc.iterChangedRanges^f^fromA"
									href="#state.ChangeDesc.iterChangedRanges^f^fromA"
									><span class="param">fromA</span></a
								>:&nbsp;<a
									href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
									><span class="prim">number</span></a
								>,
								<a
									id="state.ChangeDesc.iterChangedRanges^f^toA"
									href="#state.ChangeDesc.iterChangedRanges^f^toA"
									><span class="param">toA</span></a
								>:&nbsp;<a
									href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
									><span class="prim">number</span></a
								>,
								<a
									id="state.ChangeDesc.iterChangedRanges^f^fromB"
									href="#state.ChangeDesc.iterChangedRanges^f^fromB"
									><span class="param">fromB</span></a
								>:&nbsp;<a
									href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
									><span class="prim">number</span></a
								>,
								<a
									id="state.ChangeDesc.iterChangedRanges^f^toB"
									href="#state.ChangeDesc.iterChangedRanges^f^toB"
									><span class="param">toB</span></a
								>:&nbsp;<a
									href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
									><span class="prim">number</span></a
								>),
							</div>
							<div class="breaktype">
								<a
									id="state.ChangeDesc.iterChangedRanges^individual"
									href="#state.ChangeDesc.iterChangedRanges^individual"
									><span class="param">individual</span></a
								>⁠?:&nbsp;<a
									href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"
									><span class="prim">boolean</span></a
								><span class="defaultvalue"> = false</span>
							</div>
							)</code
						>
					</dt>

					<dd>
						<p>
							Iterate over the ranges changed by these changes.
							(See
							<a href="#state.ChangeSet.iterChanges"
								><code>ChangeSet.iterChanges</code></a
							>
							for a variant that also provides you with the
							inserted text.) <code>fromA</code>/<code>toA</code>
							provides the extent of the change in the starting
							document, <code>fromB</code>/<code>toB</code> the
							extent of the replacement in the changed document.
						</p>
						<p>
							When <code>individual</code> is true, adjacent
							changes (which are kept separate for
							<a href="#state.ChangeDesc.mapPos"
								>position mapping</a
							>) are reported separately.
						</p>
					</dd>
					<dt id="state.ChangeDesc.invertedDesc">
						<code
							><strong
								><a href="#state.ChangeDesc.invertedDesc"
									>invertedDesc</a
								></strong
							>:
							<a href="#state.ChangeDesc"
								><span class="type">ChangeDesc</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Get a description of the inverted form of these
							changes.
						</p>
					</dd>
					<dt id="state.ChangeDesc.composeDesc">
						<code
							><strong
								><a href="#state.ChangeDesc.composeDesc"
									>composeDesc</a
								></strong
							>(<a
								id="state.ChangeDesc.composeDesc^other"
								href="#state.ChangeDesc.composeDesc^other"
								><span class="param">other</span></a
							>:&nbsp;<a href="#state.ChangeDesc"
								><span class="type">ChangeDesc</span></a
							>) →&nbsp;<a href="#state.ChangeDesc"
								><span class="type">ChangeDesc</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Compute the combined effect of applying another set
							of changes after this one. The length of the
							document after this set should match the length
							before
							<code>other</code>.
						</p>
					</dd>
					<dt id="state.ChangeDesc.mapDesc">
						<code
							><strong
								><a href="#state.ChangeDesc.mapDesc"
									>mapDesc</a
								></strong
							>(<a
								id="state.ChangeDesc.mapDesc^other"
								href="#state.ChangeDesc.mapDesc^other"
								><span class="param">other</span></a
							>:&nbsp;<a href="#state.ChangeDesc"
								><span class="type">ChangeDesc</span></a
							>,
							<a
								id="state.ChangeDesc.mapDesc^before"
								href="#state.ChangeDesc.mapDesc^before"
								><span class="param">before</span></a
							>⁠?:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"
								><span class="prim">boolean</span></a
							><span class="defaultvalue"> = false</span>)
							→&nbsp;<a href="#state.ChangeDesc"
								><span class="type">ChangeDesc</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Map this description, which should start with the
							same document as <code>other</code>, over another
							set of changes, so that it can be applied after it.
							When <code>before</code> is true, map as if the
							changes in <code>this</code> happened before the
							ones in <code>other</code>.
						</p>
					</dd>
					<dt id="state.ChangeDesc.mapPos">
						<code
							><strong
								><a href="#state.ChangeDesc.mapPos"
									>mapPos</a
								></strong
							>(<a
								id="state.ChangeDesc.mapPos^pos"
								href="#state.ChangeDesc.mapPos^pos"
								><span class="param">pos</span></a
							>:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							>,
							<a
								id="state.ChangeDesc.mapPos^assoc"
								href="#state.ChangeDesc.mapPos^assoc"
								><span class="param">assoc</span></a
							>⁠?:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							>) →&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							></code
						>
						<div>
							<code
								><strong
									><a href="#state.ChangeDesc.mapPos"
										>mapPos</a
									></strong
								>(<a
									id="state.ChangeDesc.mapPos^pos"
									href="#state.ChangeDesc.mapPos^pos"
									><span class="param">pos</span></a
								>:&nbsp;<a
									href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
									><span class="prim">number</span></a
								>,
								<a
									id="state.ChangeDesc.mapPos^assoc"
									href="#state.ChangeDesc.mapPos^assoc"
									><span class="param">assoc</span></a
								>:&nbsp;<a
									href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
									><span class="prim">number</span></a
								>,
								<a
									id="state.ChangeDesc.mapPos^mode"
									href="#state.ChangeDesc.mapPos^mode"
									><span class="param">mode</span></a
								>:&nbsp;<a href="#state.MapMode"
									><span class="type">MapMode</span></a
								>) →&nbsp;<a
									href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
									><span class="prim">number</span></a
								>
								|
								<a
									href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"
									><span class="prim">null</span></a
								></code
							>
						</div>
					</dt>

					<dd>
						<p>
							Map a given position through these changes, to
							produce a position pointing into the new document.
						</p>
						<p>
							<code>assoc</code> indicates which side the position
							should be associated with. When it is negative or
							zero, the mapping will try to keep the position
							close to the character before it (if any), and will
							move it before insertions at that point or
							replacements across that point. When it is positive,
							the position is associated with the character after
							it, and will be moved forward for insertions at or
							replacements across the position. Defaults to -1.
						</p>
						<p>
							<code>mode</code> determines whether deletions
							should be <a href="#state.MapMode">reported</a>. It
							defaults to
							<a href="#state.MapMode.Simple"
								><code>MapMode.Simple</code></a
							>
							(don't report deletions).
						</p>
					</dd>
					<dt id="state.ChangeDesc.touchesRange">
						<code
							><strong
								><a href="#state.ChangeDesc.touchesRange"
									>touchesRange</a
								></strong
							>(<a
								id="state.ChangeDesc.touchesRange^from"
								href="#state.ChangeDesc.touchesRange^from"
								><span class="param">from</span></a
							>:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							>,
							<a
								id="state.ChangeDesc.touchesRange^to"
								href="#state.ChangeDesc.touchesRange^to"
								><span class="param">to</span></a
							>⁠?:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							><span class="defaultvalue"> = from</span>)
							→&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"
								><span class="prim">boolean</span></a
							>
							| <span class="string">"cover"</span></code
						>
					</dt>

					<dd>
						<p>
							Check whether these changes touch a given range.
							When one of the changes entirely covers the range,
							the string
							<code>"cover"</code> is returned.
						</p>
					</dd>
					<dt id="state.ChangeDesc.toJSON">
						<code
							><strong
								><a href="#state.ChangeDesc.toJSON"
									>toJSON</a
								></strong
							>() →&nbsp;<span class="keyword">readonly</span
							>&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							>[]</code
						>
					</dt>

					<dd>
						<p>
							Serialize this change desc to a JSON-representable
							value.
						</p>
					</dd>
					<dt id="state.ChangeDesc^fromJSON">
						<code
							><span class="keyword">static</span>
							<strong
								><a href="#state.ChangeDesc^fromJSON"
									>fromJSON</a
								></strong
							>(<a
								id="state.ChangeDesc^fromJSON^json"
								href="#state.ChangeDesc^fromJSON^json"
								><span class="param">json</span></a
							>:&nbsp;<span class="type">any</span>) →&nbsp;<a
								href="#state.ChangeDesc"
								><span class="type">ChangeDesc</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Create a change desc from its JSON representation
							(as produced by
							<a href="#state.ChangeDesc.toJSON"
								><code>toJSON</code></a
							>.
						</p>
					</dd>
				</dl>
			</dd>
			<dt id="state.MapMode">
				<code
					><span class="keyword">enum</span>
					<strong><a href="#state.MapMode">MapMode</a></strong></code
				>
			</dt>

			<dd>
				<p>
					Distinguishes different ways in which positions can be
					mapped.
				</p>
				<dl>
					<dt id="state.MapMode.Simple">
						<code
							><strong
								><a href="#state.MapMode.Simple"
									>Simple</a
								></strong
							></code
						>
					</dt>
					<dd>
						<p>
							Map a position to a valid new position, even when
							its context was deleted.
						</p>
					</dd>
					<dt id="state.MapMode.TrackDel">
						<code
							><strong
								><a href="#state.MapMode.TrackDel"
									>TrackDel</a
								></strong
							></code
						>
					</dt>
					<dd>
						<p>
							Return null if deletion happens across the position.
						</p>
					</dd>
					<dt id="state.MapMode.TrackBefore">
						<code
							><strong
								><a href="#state.MapMode.TrackBefore"
									>TrackBefore</a
								></strong
							></code
						>
					</dt>
					<dd>
						<p>
							Return null if the character <em>before</em> the
							position is deleted.
						</p>
					</dd>
					<dt id="state.MapMode.TrackAfter">
						<code
							><strong
								><a href="#state.MapMode.TrackAfter"
									>TrackAfter</a
								></strong
							></code
						>
					</dt>
					<dd>
						<p>
							Return null if the character <em>after</em> the
							position is deleted.
						</p>
					</dd>
				</dl>
			</dd>
			<dt id="state.ChangeSet">
				<h4>
					<code><span class="keyword">class</span></code>
					<a href="#state.ChangeSet">ChangeSet</a>
					<code
						><span class="keyword">extends</span>
						<a href="#state.ChangeDesc"
							><span class="type">ChangeDesc</span></a
						></code
					>
				</h4>
			</dt>

			<dd>
				<p>
					A change set represents a group of modifications to a
					document. It stores the document length, and can only be
					applied to documents with exactly that length.
				</p>
				<dl>
					<dt id="state.ChangeSet.apply">
						<code
							><strong
								><a href="#state.ChangeSet.apply"
									>apply</a
								></strong
							>(<a
								id="state.ChangeSet.apply^doc"
								href="#state.ChangeSet.apply^doc"
								><span class="param">doc</span></a
							>:&nbsp;<a href="#state.Text"
								><span class="type">Text</span></a
							>) →&nbsp;<a href="#state.Text"
								><span class="type">Text</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Apply the changes to a document, returning the
							modified document.
						</p>
					</dd>
					<dt id="state.ChangeSet.invert">
						<code
							><strong
								><a href="#state.ChangeSet.invert"
									>invert</a
								></strong
							>(<a
								id="state.ChangeSet.invert^doc"
								href="#state.ChangeSet.invert^doc"
								><span class="param">doc</span></a
							>:&nbsp;<a href="#state.Text"
								><span class="type">Text</span></a
							>) →&nbsp;<a href="#state.ChangeSet"
								><span class="type">ChangeSet</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Given the document as it existed <em>before</em> the
							changes, return a change set that represents the
							inverse of this set, which could be used to go from
							the document created by the changes back to the
							document as it existed before the changes.
						</p>
					</dd>
					<dt id="state.ChangeSet.compose">
						<code
							><strong
								><a href="#state.ChangeSet.compose"
									>compose</a
								></strong
							>(<a
								id="state.ChangeSet.compose^other"
								href="#state.ChangeSet.compose^other"
								><span class="param">other</span></a
							>:&nbsp;<a href="#state.ChangeSet"
								><span class="type">ChangeSet</span></a
							>) →&nbsp;<a href="#state.ChangeSet"
								><span class="type">ChangeSet</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Combine two subsequent change sets into a single
							set.
							<code>other</code> must start in the document
							produced by <code>this</code>. If
							<code>this</code> goes <code>docA</code> →
							<code>docB</code> and <code>other</code> represents
							<code>docB</code> → <code>docC</code>, the returned
							value will represent the change <code>docA</code> →
							<code>docC</code>.
						</p>
					</dd>
					<dt id="state.ChangeSet.map">
						<code
							><strong
								><a href="#state.ChangeSet.map">map</a></strong
							>(<a
								id="state.ChangeSet.map^other"
								href="#state.ChangeSet.map^other"
								><span class="param">other</span></a
							>:&nbsp;<a href="#state.ChangeDesc"
								><span class="type">ChangeDesc</span></a
							>,
							<a
								id="state.ChangeSet.map^before"
								href="#state.ChangeSet.map^before"
								><span class="param">before</span></a
							>⁠?:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"
								><span class="prim">boolean</span></a
							><span class="defaultvalue"> = false</span>)
							→&nbsp;<a href="#state.ChangeSet"
								><span class="type">ChangeSet</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Given another change set starting in the same
							document, maps this change set over the other,
							producing a new change set that can be applied to
							the document produced by applying
							<code>other</code>. When <code>before</code> is
							<code>true</code>, order changes as if
							<code>this</code> comes before <code>other</code>,
							otherwise (the default) treat <code>other</code> as
							coming first.
						</p>
						<p>
							Given two changes <code>A</code> and <code>B</code>,
							<code>A.compose(B.map(A))</code> and
							<code>B.compose(A.map(B, true))</code> will produce
							the same document. This provides a basic form of
							<a
								href="https://en.wikipedia.org/wiki/Operational_transformation"
								>operational transformation</a
							>, and can be used for collaborative editing.
						</p>
					</dd>
					<dt id="state.ChangeSet.iterChanges">
						<code
							><strong
								><a href="#state.ChangeSet.iterChanges"
									>iterChanges</a
								></strong
							>(
							<div class="breaktype">
								<a
									id="state.ChangeSet.iterChanges^f"
									href="#state.ChangeSet.iterChanges^f"
									><span class="param">f</span></a
								>:&nbsp;<span class="fn">fn</span>(
								<div class="breaktype">
									<a
										id="state.ChangeSet.iterChanges^f^fromA"
										href="#state.ChangeSet.iterChanges^f^fromA"
										><span class="param">fromA</span></a
									>:&nbsp;<a
										href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
										><span class="prim">number</span></a
									>,
								</div>
								<div class="breaktype">
									<a
										id="state.ChangeSet.iterChanges^f^toA"
										href="#state.ChangeSet.iterChanges^f^toA"
										><span class="param">toA</span></a
									>:&nbsp;<a
										href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
										><span class="prim">number</span></a
									>,
								</div>
								<div class="breaktype">
									<a
										id="state.ChangeSet.iterChanges^f^fromB"
										href="#state.ChangeSet.iterChanges^f^fromB"
										><span class="param">fromB</span></a
									>:&nbsp;<a
										href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
										><span class="prim">number</span></a
									>,
								</div>
								<div class="breaktype">
									<a
										id="state.ChangeSet.iterChanges^f^toB"
										href="#state.ChangeSet.iterChanges^f^toB"
										><span class="param">toB</span></a
									>:&nbsp;<a
										href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
										><span class="prim">number</span></a
									>,
								</div>
								<div class="breaktype">
									<a
										id="state.ChangeSet.iterChanges^f^inserted"
										href="#state.ChangeSet.iterChanges^f^inserted"
										><span class="param">inserted</span></a
									>:&nbsp;<a href="#state.Text"
										><span class="type">Text</span></a
									>
								</div>
								),
							</div>
							<div class="breaktype">
								<a
									id="state.ChangeSet.iterChanges^individual"
									href="#state.ChangeSet.iterChanges^individual"
									><span class="param">individual</span></a
								>⁠?:&nbsp;<a
									href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"
									><span class="prim">boolean</span></a
								><span class="defaultvalue"> = false</span>
							</div>
							)</code
						>
					</dt>

					<dd>
						<p>
							Iterate over the changed ranges in the document,
							calling
							<code>f</code> for each, with the range in the
							original document
							(<code>fromA</code>-<code>toA</code>) and the range
							that replaces it in the new document
							(<code>fromB</code>-<code>toB</code>).
						</p>
						<p>
							When <code>individual</code> is true, adjacent
							changes are reported separately.
						</p>
					</dd>
					<dt id="state.ChangeSet.desc">
						<code
							><strong
								><a href="#state.ChangeSet.desc"
									>desc</a
								></strong
							>:
							<a href="#state.ChangeDesc"
								><span class="type">ChangeDesc</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Get a
							<a href="#state.ChangeDesc">change description</a>
							for this change set.
						</p>
					</dd>
					<dt id="state.ChangeSet.toJSON">
						<code
							><strong
								><a href="#state.ChangeSet.toJSON"
									>toJSON</a
								></strong
							>() →&nbsp;<span class="type">any</span></code
						>
					</dt>

					<dd>
						<p>
							Serialize this change set to a JSON-representable
							value.
						</p>
					</dd>
					<dt id="state.ChangeSet^of">
						<code
							><span class="keyword">static</span>
							<strong><a href="#state.ChangeSet^of">of</a></strong
							>(<a
								id="state.ChangeSet^of^changes"
								href="#state.ChangeSet^of^changes"
								><span class="param">changes</span></a
							>:&nbsp;<a href="#state.ChangeSpec"
								><span class="type">ChangeSpec</span></a
							>,
							<a
								id="state.ChangeSet^of^length"
								href="#state.ChangeSet^of^length"
								><span class="param">length</span></a
							>:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							>,
							<a
								id="state.ChangeSet^of^lineSep"
								href="#state.ChangeSet^of^lineSep"
								><span class="param">lineSep</span></a
							>⁠?:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"
								><span class="prim">string</span></a
							>) →&nbsp;<a href="#state.ChangeSet"
								><span class="type">ChangeSet</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Create a change set for the given changes, for a
							document of the given length, using
							<code>lineSep</code> as line separator.
						</p>
					</dd>
					<dt id="state.ChangeSet^empty">
						<code
							><span class="keyword">static</span>
							<strong
								><a href="#state.ChangeSet^empty"
									>empty</a
								></strong
							>(<a
								id="state.ChangeSet^empty^length"
								href="#state.ChangeSet^empty^length"
								><span class="param">length</span></a
							>:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							>) →&nbsp;<a href="#state.ChangeSet"
								><span class="type">ChangeSet</span></a
							></code
						>
					</dt>

					<dd>
						<p>Create an empty changeset of the given length.</p>
					</dd>
					<dt id="state.ChangeSet^fromJSON">
						<code
							><span class="keyword">static</span>
							<strong
								><a href="#state.ChangeSet^fromJSON"
									>fromJSON</a
								></strong
							>(<a
								id="state.ChangeSet^fromJSON^json"
								href="#state.ChangeSet^fromJSON^json"
								><span class="param">json</span></a
							>:&nbsp;<span class="type">any</span>) →&nbsp;<a
								href="#state.ChangeSet"
								><span class="type">ChangeSet</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Create a changeset from its JSON representation (as
							produced by
							<a href="#state.ChangeSet.toJSON"
								><code>toJSON</code></a
							>.
						</p>
					</dd>
				</dl>
			</dd>
			<dt id="state.Annotation">
				<h4>
					<code><span class="keyword">class</span></code>
					<a href="#state.Annotation">Annotation</a
					><code
						>&lt;<a
							id="state.Annotation^T"
							href="#state.Annotation^T"
							>T</a
						>&gt;</code
					>
				</h4>
			</dt>

			<dd>
				<p>
					Annotations are tagged values that are used to add metadata
					to transactions in an extensible way. They should be used to
					model things that effect the entire transaction (such as its
					<a href="#state.Transaction%5Etime">time stamp</a> or
					information about its
					<a href="#state.Transaction%5EuserEvent">origin</a>). For
					effects that happen <em>alongside</em> the other changes
					made by the transaction,
					<a href="#state.StateEffect">state effects</a> are more
					appropriate.
				</p>
				<dl>
					<dt id="state.Annotation.type">
						<code
							><strong
								><a href="#state.Annotation.type"
									>type</a
								></strong
							>:
							<a href="#state.AnnotationType"
								><span class="type">AnnotationType</span></a
							>&lt;<a href="#state.Annotation^T"
								><span class="type">T</span></a
							>&gt;</code
						>
					</dt>

					<dd><p>The annotation type.</p></dd>
					<dt id="state.Annotation.value">
						<code
							><strong
								><a href="#state.Annotation.value"
									>value</a
								></strong
							>:
							<a href="#state.Annotation^T"
								><span class="type">T</span></a
							></code
						>
					</dt>

					<dd><p>The value of this annotation.</p></dd>
					<dt id="state.Annotation^define">
						<code
							><span class="keyword">static</span>
							<strong
								><a href="#state.Annotation^define"
									>define</a
								></strong
							>&lt;<a
								id="state.Annotation^define^T"
								href="#state.Annotation^define^T"
								>T</a
							>&gt;() →&nbsp;<a href="#state.AnnotationType"
								><span class="type">AnnotationType</span></a
							>&lt;<a href="#state.Annotation^define^T"
								><span class="type">T</span></a
							>&gt;</code
						>
					</dt>

					<dd><p>Define a new type of annotation.</p></dd>
				</dl>
			</dd>
			<dt id="state.AnnotationType">
				<h4>
					<code><span class="keyword">class</span></code>
					<a href="#state.AnnotationType">AnnotationType</a
					><code
						>&lt;<a
							id="state.AnnotationType^T"
							href="#state.AnnotationType^T"
							>T</a
						>&gt;</code
					>
				</h4>
			</dt>

			<dd>
				<p>
					Marker that identifies a type of
					<a href="#state.Annotation">annotation</a>.
				</p>
				<dl>
					<dt id="state.AnnotationType.of">
						<code
							><strong
								><a href="#state.AnnotationType.of"
									>of</a
								></strong
							>(<a
								id="state.AnnotationType.of^value"
								href="#state.AnnotationType.of^value"
								><span class="param">value</span></a
							>:&nbsp;<a href="#state.AnnotationType^T"
								><span class="type">T</span></a
							>) →&nbsp;<a href="#state.Annotation"
								><span class="type">Annotation</span></a
							>&lt;<a href="#state.AnnotationType^T"
								><span class="type">T</span></a
							>&gt;</code
						>
					</dt>

					<dd><p>Create an instance of this annotation.</p></dd>
				</dl>
			</dd>
			<dt id="state.StateEffect">
				<h4>
					<code><span class="keyword">class</span></code>
					<a href="#state.StateEffect">StateEffect</a
					><code
						>&lt;<a
							id="state.StateEffect^Value"
							href="#state.StateEffect^Value"
							>Value</a
						>&gt;</code
					>
				</h4>
			</dt>

			<dd>
				<p>
					State effects can be used to represent additional effects
					associated with a
					<a href="#state.Transaction.effects">transaction</a>. They
					are often useful to model changes to custom
					<a href="#state.StateField">state fields</a>, when those
					changes aren't implicit in document or selection changes.
				</p>
				<dl>
					<dt id="state.StateEffect.value">
						<code
							><strong
								><a href="#state.StateEffect.value"
									>value</a
								></strong
							>:
							<a href="#state.StateEffect^Value"
								><span class="type">Value</span></a
							></code
						>
					</dt>

					<dd><p>The value of this effect.</p></dd>
					<dt id="state.StateEffect.map">
						<code
							><strong
								><a href="#state.StateEffect.map"
									>map</a
								></strong
							>(<a
								id="state.StateEffect.map^mapping"
								href="#state.StateEffect.map^mapping"
								><span class="param">mapping</span></a
							>:&nbsp;<a href="#state.ChangeDesc"
								><span class="type">ChangeDesc</span></a
							>) →&nbsp;<a href="#state.StateEffect"
								><span class="type">StateEffect</span></a
							>&lt;<a href="#state.StateEffect^Value"
								><span class="type">Value</span></a
							>&gt; |
							<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined"
								><span class="prim">undefined</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Map this effect through a position mapping. Will
							return
							<code>undefined</code> when that ends up deleting
							the effect.
						</p>
					</dd>
					<dt id="state.StateEffect.is">
						<code
							><strong
								><a href="#state.StateEffect.is">is</a></strong
							>&lt;<a
								id="state.StateEffect.is^T"
								href="#state.StateEffect.is^T"
								>T</a
							>&gt;(<a
								id="state.StateEffect.is^type"
								href="#state.StateEffect.is^type"
								><span class="param">type</span></a
							>:&nbsp;<a href="#state.StateEffectType"
								><span class="type">StateEffectType</span></a
							>&lt;<a href="#state.StateEffect.is^T"
								><span class="type">T</span></a
							>&gt;) →&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"
								><span class="prim">boolean</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Tells you whether this effect object is of a given
							<a href="#state.StateEffectType">type</a>.
						</p>
					</dd>
					<dt id="state.StateEffect^define">
						<code
							><span class="keyword">static</span>
							<strong
								><a href="#state.StateEffect^define"
									>define</a
								></strong
							>&lt;<a
								id="state.StateEffect^define^Value"
								href="#state.StateEffect^define^Value"
								>Value</a
							>
							= null&gt;(<a
								id="state.StateEffect^define^spec"
								href="#state.StateEffect^define^spec"
								><span class="param">spec</span></a
							>⁠?:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"
								><span class="type">Object</span></a
							><span class="defaultvalue"> = {}</span>) →&nbsp;<a
								href="#state.StateEffectType"
								><span class="type">StateEffectType</span></a
							>&lt;<a href="#state.StateEffect^define^Value"
								><span class="type">Value</span></a
							>&gt;</code
						>
					</dt>

					<dd>
						<p>
							Define a new effect type. The type parameter
							indicates the type of values that his effect holds.
							It should be a type that doesn't include
							<code>undefined</code>, since that is used in
							<a href="#state.StateEffect.map">mapping</a> to
							indicate that an effect is removed.
						</p>
						<dl>
							<dt id="state.StateEffect^define^spec">
								<code
									><strong
										><a
											href="#state.StateEffect^define^spec"
											>spec</a
										></strong
									></code
								>
							</dt>

							<dd>
								<dl>
									<dt id="state.StateEffect^define^spec.map">
										<code
											><strong
												><a
													href="#state.StateEffect^define^spec.map"
													>map</a
												></strong
											>⁠?: <span class="fn">fn</span>(<a
												id="state.StateEffect^define^spec.map^value"
												href="#state.StateEffect^define^spec.map^value"
												><span class="param"
													>value</span
												></a
											>:&nbsp;<a
												href="#state.StateEffect^define^Value"
												><span class="type"
													>Value</span
												></a
											>,
											<a
												id="state.StateEffect^define^spec.map^mapping"
												href="#state.StateEffect^define^spec.map^mapping"
												><span class="param"
													>mapping</span
												></a
											>:&nbsp;<a href="#state.ChangeDesc"
												><span class="type"
													>ChangeDesc</span
												></a
											>) →&nbsp;<a
												href="#state.StateEffect^define^Value"
												><span class="type"
													>Value</span
												></a
											>
											|
											<a
												href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined"
												><span class="prim"
													>undefined</span
												></a
											></code
										>
									</dt>

									<dd>
										<p>
											Provides a way to map an effect like
											this through a position mapping.
											When not given, the effects will
											simply not be mapped. When the
											function returns
											<code>undefined</code>, that means
											the mapping deletes the effect.
										</p>
									</dd>
								</dl>
							</dd>
						</dl>
					</dd>
					<dt id="state.StateEffect^mapEffects">
						<code
							><span class="keyword">static</span>
							<strong
								><a href="#state.StateEffect^mapEffects"
									>mapEffects</a
								></strong
							>(
							<div class="breaktype">
								<a
									id="state.StateEffect^mapEffects^effects"
									href="#state.StateEffect^mapEffects^effects"
									><span class="param">effects</span></a
								>:&nbsp;<span class="keyword">readonly</span
								>&nbsp;<a href="#state.StateEffect"
									><span class="type">StateEffect</span></a
								>&lt;<span class="type">any</span>&gt;[],
							</div>
							<div class="breaktype">
								<a
									id="state.StateEffect^mapEffects^mapping"
									href="#state.StateEffect^mapEffects^mapping"
									><span class="param">mapping</span></a
								>:&nbsp;<a href="#state.ChangeDesc"
									><span class="type">ChangeDesc</span></a
								>
							</div>
							) →&nbsp;<span class="keyword">readonly</span
							>&nbsp;<a href="#state.StateEffect"
								><span class="type">StateEffect</span></a
							>&lt;<span class="type">any</span>&gt;[]</code
						>
					</dt>

					<dd>
						<p>Map an array of effects through a change set.</p>
					</dd>
					<dt id="state.StateEffect^reconfigure">
						<code
							><span class="keyword">static</span>
							<strong
								><a href="#state.StateEffect^reconfigure"
									>reconfigure</a
								></strong
							>:
							<a href="#state.StateEffectType"
								><span class="type">StateEffectType</span></a
							>&lt;<a href="#state.Extension"
								><span class="type">Extension</span></a
							>&gt;</code
						>
					</dt>

					<dd>
						<p>
							This effect can be used to reconfigure the root
							extensions of the editor. Doing this will discard
							any extensions
							<a href="#state.StateEffect%5EappendConfig"
								>appended</a
							>, but does not reset the content of
							<a href="#state.Compartment.reconfigure"
								>reconfigured</a
							>
							compartments.
						</p>
					</dd>
					<dt id="state.StateEffect^appendConfig">
						<code
							><span class="keyword">static</span>
							<strong
								><a href="#state.StateEffect^appendConfig"
									>appendConfig</a
								></strong
							>:
							<a href="#state.StateEffectType"
								><span class="type">StateEffectType</span></a
							>&lt;<a href="#state.Extension"
								><span class="type">Extension</span></a
							>&gt;</code
						>
					</dt>

					<dd>
						<p>
							Append extensions to the top-level configuration of
							the editor.
						</p>
					</dd>
				</dl>
			</dd>
			<dt id="state.StateEffectType">
				<h4>
					<code><span class="keyword">class</span></code>
					<a href="#state.StateEffectType">StateEffectType</a
					><code
						>&lt;<a
							id="state.StateEffectType^Value"
							href="#state.StateEffectType^Value"
							>Value</a
						>&gt;</code
					>
				</h4>
			</dt>

			<dd>
				<p>
					Representation of a type of state effect. Defined with
					<a href="#state.StateEffect%5Edefine"
						><code>StateEffect.define</code></a
					>.
				</p>
				<dl>
					<dt id="state.StateEffectType.of">
						<code
							><strong
								><a href="#state.StateEffectType.of"
									>of</a
								></strong
							>(<a
								id="state.StateEffectType.of^value"
								href="#state.StateEffectType.of^value"
								><span class="param">value</span></a
							>:&nbsp;<a href="#state.StateEffectType^Value"
								><span class="type">Value</span></a
							>) →&nbsp;<a href="#state.StateEffect"
								><span class="type">StateEffect</span></a
							>&lt;<a href="#state.StateEffectType^Value"
								><span class="type">Value</span></a
							>&gt;</code
						>
					</dt>

					<dd>
						<p>
							Create a
							<a href="#state.StateEffect">state effect</a>
							instance of this type.
						</p>
					</dd>
				</dl>
			</dd>
		</dl>
		<h3 id="h_extending_editor_state" tabindex="-1">
			Extending Editor State
		</h3>
		<p>
			The following are some types and mechanisms used when writing
			extensions for the editor state.
		</p>
		<dl>
			<dt id="state.StateCommand">
				<code>
					<span class="keyword">type</span>
					<strong
						><a href="#state.StateCommand">StateCommand</a></strong
					>
					= <span class="fn">fn</span>(
					<div class="breaktype">
						<a
							id="state.StateCommand^target"
							href="#state.StateCommand^target"
							><span class="param">target</span></a
						>:&nbsp;{<span class="prop">state</span>:&nbsp;<a
							href="#state.EditorState"
							><span class="type">EditorState</span></a
						>, <span class="prop">dispatch</span>:&nbsp;<span
							class="fn"
							>fn</span
						>(<a
							id="state.StateCommand^target.dispatch^transaction"
							href="#state.StateCommand^target.dispatch^transaction"
							><span class="param">transaction</span></a
						>:&nbsp;<a href="#state.Transaction"
							><span class="type">Transaction</span></a
						>)}
					</div>
					) →&nbsp;<a
						href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"
						><span class="prim">boolean</span></a
					></code
				>
			</dt>

			<dd>
				<p>
					Subtype of
					<a href="#view.Command"><code>Command</code></a> that
					doesn't require access to the actual editor view. Mostly
					useful to define commands that can be run and tested outside
					of a browser environment.
				</p>
			</dd>
			<dt id="state.Extension">
				<code>
					<span class="keyword">type</span>
					<strong><a href="#state.Extension">Extension</a></strong> =
					{<span class="prop">extension</span>:&nbsp;<a
						href="#state.Extension"
						><span class="type">Extension</span></a
					>} | <span class="keyword">readonly</span>&nbsp;<a
						href="#state.Extension"
						><span class="type">Extension</span></a
					>[]</code
				>
			</dt>

			<dd>
				<p>
					Extension values can be
					<a href="#state.EditorStateConfig.extensions">provided</a>
					when creating a state to attach various kinds of
					configuration and behavior information. They can either be
					built-in extension-providing objects, such as
					<a href="#state.StateField">state fields</a> or
					<a href="#state.Facet.of">facet providers</a>, or objects
					with an extension in its <code>extension</code> property.
					Extensions can be nested in arrays arbitrarily deep—they
					will be flattened when processed.
				</p>
			</dd>
			<dt id="state.StateField">
				<h4>
					<code><span class="keyword">class</span></code>
					<a href="#state.StateField">StateField</a
					><code
						>&lt;<a
							id="state.StateField^Value"
							href="#state.StateField^Value"
							>Value</a
						>&gt;</code
					>
				</h4>
			</dt>

			<dd>
				<p>
					Fields can store additional information in an editor state,
					and keep it in sync with the rest of the state.
				</p>
				<dl>
					<dt id="state.StateField.init">
						<code
							><strong
								><a href="#state.StateField.init"
									>init</a
								></strong
							>(<a
								id="state.StateField.init^create"
								href="#state.StateField.init^create"
								><span class="param">create</span></a
							>:&nbsp;<span class="fn">fn</span>(<a
								id="state.StateField.init^create^state"
								href="#state.StateField.init^create^state"
								><span class="param">state</span></a
							>:&nbsp;<a href="#state.EditorState"
								><span class="type">EditorState</span></a
							>) →&nbsp;<a href="#state.StateField^Value"
								><span class="type">Value</span></a
							>) →&nbsp;<a href="#state.Extension"
								><span class="type">Extension</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Returns an extension that enables this field and
							overrides the way it is initialized. Can be useful
							when you need to provide a non-default starting
							value for the field.
						</p>
					</dd>
					<dt id="state.StateField.extension">
						<code
							><strong
								><a href="#state.StateField.extension"
									>extension</a
								></strong
							>:
							<a href="#state.Extension"
								><span class="type">Extension</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							State field instances can be used as
							<a href="#state.Extension"
								><code>Extension</code></a
							>
							values to enable the field in a given state.
						</p>
					</dd>
					<dt id="state.StateField^define">
						<code
							><span class="keyword">static</span>
							<strong
								><a href="#state.StateField^define"
									>define</a
								></strong
							>&lt;<a
								id="state.StateField^define^Value"
								href="#state.StateField^define^Value"
								>Value</a
							>&gt;(<a
								id="state.StateField^define^config"
								href="#state.StateField^define^config"
								><span class="param">config</span></a
							>:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"
								><span class="type">Object</span></a
							>) →&nbsp;<a href="#state.StateField"
								><span class="type">StateField</span></a
							>&lt;<a href="#state.StateField^define^Value"
								><span class="type">Value</span></a
							>&gt;</code
						>
					</dt>

					<dd>
						<p>Define a state field.</p>
						<dl>
							<dt id="state.StateField^define^config">
								<code
									><strong
										><a
											href="#state.StateField^define^config"
											>config</a
										></strong
									></code
								>
							</dt>

							<dd>
								<dl>
									<dt
										id="state.StateField^define^config.create"
									>
										<code
											><strong
												><a
													href="#state.StateField^define^config.create"
													>create</a
												></strong
											>(<a
												id="state.StateField^define^config.create^state"
												href="#state.StateField^define^config.create^state"
												><span class="param"
													>state</span
												></a
											>:&nbsp;<a href="#state.EditorState"
												><span class="type"
													>EditorState</span
												></a
											>) →&nbsp;<a
												href="#state.StateField^define^Value"
												><span class="type"
													>Value</span
												></a
											></code
										>
									</dt>

									<dd>
										<p>
											Creates the initial value for the
											field when a state is created.
										</p>
									</dd>
									<dt
										id="state.StateField^define^config.update"
									>
										<code
											><strong
												><a
													href="#state.StateField^define^config.update"
													>update</a
												></strong
											>(<a
												id="state.StateField^define^config.update^value"
												href="#state.StateField^define^config.update^value"
												><span class="param"
													>value</span
												></a
											>:&nbsp;<a
												href="#state.StateField^define^Value"
												><span class="type"
													>Value</span
												></a
											>,
											<a
												id="state.StateField^define^config.update^transaction"
												href="#state.StateField^define^config.update^transaction"
												><span class="param"
													>transaction</span
												></a
											>:&nbsp;<a href="#state.Transaction"
												><span class="type"
													>Transaction</span
												></a
											>) →&nbsp;<a
												href="#state.StateField^define^Value"
												><span class="type"
													>Value</span
												></a
											></code
										>
									</dt>

									<dd>
										<p>
											Compute a new value from the field's
											previous value and a
											<a href="#state.Transaction"
												>transaction</a
											>.
										</p>
									</dd>
									<dt
										id="state.StateField^define^config.compare"
									>
										<code
											><strong
												><a
													href="#state.StateField^define^config.compare"
													>compare</a
												></strong
											>⁠?: <span class="fn">fn</span>(<a
												id="state.StateField^define^config.compare^a"
												href="#state.StateField^define^config.compare^a"
												><span class="param">a</span></a
											>:&nbsp;<a
												href="#state.StateField^define^Value"
												><span class="type"
													>Value</span
												></a
											>,
											<a
												id="state.StateField^define^config.compare^b"
												href="#state.StateField^define^config.compare^b"
												><span class="param">b</span></a
											>:&nbsp;<a
												href="#state.StateField^define^Value"
												><span class="type"
													>Value</span
												></a
											>) →&nbsp;<a
												href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"
												><span class="prim"
													>boolean</span
												></a
											></code
										>
									</dt>

									<dd>
										<p>
											Compare two values of the field,
											returning <code>true</code> when
											they are the same. This is used to
											avoid recomputing facets that depend
											on the field when its value did not
											change. Defaults to using
											<code>===</code>.
										</p>
									</dd>
									<dt
										id="state.StateField^define^config.provide"
									>
										<code
											><strong
												><a
													href="#state.StateField^define^config.provide"
													>provide</a
												></strong
											>⁠?: <span class="fn">fn</span>(<a
												id="state.StateField^define^config.provide^field"
												href="#state.StateField^define^config.provide^field"
												><span class="param"
													>field</span
												></a
											>:&nbsp;<a href="#state.StateField"
												><span class="type"
													>StateField</span
												></a
											>&lt;<a
												href="#state.StateField^define^Value"
												><span class="type"
													>Value</span
												></a
											>&gt;) →&nbsp;<a
												href="#state.Extension"
												><span class="type"
													>Extension</span
												></a
											></code
										>
									</dt>

									<dd>
										<p>
											Provide extensions based on this
											field. The given function will be
											called once with the initialized
											field. It will usually want to call
											some facet's
											<a href="#state.Facet.from"
												><code>from</code></a
											>
											method to create facet inputs from
											this field, but can also return
											other extensions that should be
											enabled when the field is present in
											a configuration.
										</p>
									</dd>
									<dt
										id="state.StateField^define^config.toJSON"
									>
										<code
											><strong
												><a
													href="#state.StateField^define^config.toJSON"
													>toJSON</a
												></strong
											>⁠?: <span class="fn">fn</span>(<a
												id="state.StateField^define^config.toJSON^value"
												href="#state.StateField^define^config.toJSON^value"
												><span class="param"
													>value</span
												></a
											>:&nbsp;<a
												href="#state.StateField^define^Value"
												><span class="type"
													>Value</span
												></a
											>,
											<a
												id="state.StateField^define^config.toJSON^state"
												href="#state.StateField^define^config.toJSON^state"
												><span class="param"
													>state</span
												></a
											>:&nbsp;<a href="#state.EditorState"
												><span class="type"
													>EditorState</span
												></a
											>) →&nbsp;<span class="type"
												>any</span
											></code
										>
									</dt>

									<dd>
										<p>
											A function used to serialize this
											field's content to JSON. Only
											necessary when this field is
											included in the argument to
											<a href="#state.EditorState.toJSON"
												><code
													>EditorState.toJSON</code
												></a
											>.
										</p>
									</dd>
									<dt
										id="state.StateField^define^config.fromJSON"
									>
										<code
											><strong
												><a
													href="#state.StateField^define^config.fromJSON"
													>fromJSON</a
												></strong
											>⁠?: <span class="fn">fn</span>(<a
												id="state.StateField^define^config.fromJSON^json"
												href="#state.StateField^define^config.fromJSON^json"
												><span class="param"
													>json</span
												></a
											>:&nbsp;<span class="type">any</span
											>,
											<a
												id="state.StateField^define^config.fromJSON^state"
												href="#state.StateField^define^config.fromJSON^state"
												><span class="param"
													>state</span
												></a
											>:&nbsp;<a href="#state.EditorState"
												><span class="type"
													>EditorState</span
												></a
											>) →&nbsp;<a
												href="#state.StateField^define^Value"
												><span class="type"
													>Value</span
												></a
											></code
										>
									</dt>

									<dd>
										<p>
											A function that deserializes the
											JSON representation of this field's
											content.
										</p>
									</dd>
								</dl>
							</dd>
						</dl>
					</dd>
				</dl>
			</dd>
			<dt id="state.Facet">
				<h4>
					<code><span class="keyword">class</span></code>
					<a href="#state.Facet">Facet</a
					><code
						>&lt;<a id="state.Facet^Input" href="#state.Facet^Input"
							>Input</a
						>,
						<a id="state.Facet^Output" href="#state.Facet^Output"
							>Output</a
						>
						= readonly Input[]&gt;</code
					>
					<code
						><span class="keyword">implements</span>
						<a href="#state.FacetReader"
							><span class="type">FacetReader</span></a
						>&lt;<a href="#state.Facet^Output"
							><span class="type">Output</span></a
						>&gt;</code
					>
				</h4>
			</dt>

			<dd>
				<p>
					A facet is a labeled value that is associated with an editor
					state. It takes inputs from any number of extensions, and
					combines those into a single output value.
				</p>
				<p>
					Examples of uses of facets are the
					<a href="#state.EditorState%5EtabSize">tab size</a>,
					<a href="#view.EditorView%5EeditorAttributes"
						>editor attributes</a
					>, and
					<a href="#view.EditorView%5EupdateListener"
						>update listeners</a
					>.
				</p>
				<p>
					Note that <code>Facet</code> instances can be used anywhere
					where
					<a href="#state.FacetReader"><code>FacetReader</code></a> is
					expected.
				</p>
				<dl>
					<dt id="state.Facet.reader">
						<code
							><strong
								><a href="#state.Facet.reader"
									>reader</a
								></strong
							>:
							<a href="#state.FacetReader"
								><span class="type">FacetReader</span></a
							>&lt;<a href="#state.Facet^Output"
								><span class="type">Output</span></a
							>&gt;</code
						>
					</dt>

					<dd>
						<p>
							Returns a facet reader for this facet, which can be
							used to
							<a href="#state.EditorState.facet">read</a> it but
							not to define values for it.
						</p>
					</dd>
					<dt id="state.Facet.of">
						<code
							><strong><a href="#state.Facet.of">of</a></strong
							>(<a
								id="state.Facet.of^value"
								href="#state.Facet.of^value"
								><span class="param">value</span></a
							>:&nbsp;<a href="#state.Facet^Input"
								><span class="type">Input</span></a
							>) →&nbsp;<a href="#state.Extension"
								><span class="type">Extension</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Returns an extension that adds the given value to
							this facet.
						</p>
					</dd>
					<dt id="state.Facet.compute">
						<code
							><strong
								><a href="#state.Facet.compute"
									>compute</a
								></strong
							>(
							<div class="breaktype">
								<a
									id="state.Facet.compute^deps"
									href="#state.Facet.compute^deps"
									><span class="param">deps</span></a
								>:&nbsp;<span class="keyword">readonly</span
								>&nbsp;(<a href="#state.StateField"
									><span class="type">StateField</span></a
								>&lt;<span class="type">any</span>&gt; |
								<span class="string">"doc"</span> |
								<span class="string">"selection"</span> |
								<a href="#state.FacetReader"
									><span class="type">FacetReader</span></a
								>&lt;<span class="type">any</span>&gt;)[],
							</div>
							<div class="breaktype">
								<a
									id="state.Facet.compute^get"
									href="#state.Facet.compute^get"
									><span class="param">get</span></a
								>:&nbsp;<span class="fn">fn</span>(<a
									id="state.Facet.compute^get^state"
									href="#state.Facet.compute^get^state"
									><span class="param">state</span></a
								>:&nbsp;<a href="#state.EditorState"
									><span class="type">EditorState</span></a
								>) →&nbsp;<a href="#state.Facet^Input"
									><span class="type">Input</span></a
								>
							</div>
							) →&nbsp;<a href="#state.Extension"
								><span class="type">Extension</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Create an extension that computes a value for the
							facet from a state. You must take care to declare
							the parts of the state that this value depends on,
							since your function is only called again for a new
							state when one of those parts changed.
						</p>
						<p>
							In cases where your value depends only on a single
							field, you'll want to use the
							<a href="#state.Facet.from"><code>from</code></a>
							method instead.
						</p>
					</dd>
					<dt id="state.Facet.computeN">
						<code
							><strong
								><a href="#state.Facet.computeN"
									>computeN</a
								></strong
							>(
							<div class="breaktype">
								<a
									id="state.Facet.computeN^deps"
									href="#state.Facet.computeN^deps"
									><span class="param">deps</span></a
								>:&nbsp;<span class="keyword">readonly</span
								>&nbsp;(<a href="#state.StateField"
									><span class="type">StateField</span></a
								>&lt;<span class="type">any</span>&gt; |
								<span class="string">"doc"</span> |
								<span class="string">"selection"</span> |
								<a href="#state.FacetReader"
									><span class="type">FacetReader</span></a
								>&lt;<span class="type">any</span>&gt;)[],
							</div>
							<div class="breaktype">
								<a
									id="state.Facet.computeN^get"
									href="#state.Facet.computeN^get"
									><span class="param">get</span></a
								>:&nbsp;<span class="fn">fn</span>(<a
									id="state.Facet.computeN^get^state"
									href="#state.Facet.computeN^get^state"
									><span class="param">state</span></a
								>:&nbsp;<a href="#state.EditorState"
									><span class="type">EditorState</span></a
								>) →&nbsp;<span class="keyword">readonly</span
								>&nbsp;<a href="#state.Facet^Input"
									><span class="type">Input</span></a
								>[]
							</div>
							) →&nbsp;<a href="#state.Extension"
								><span class="type">Extension</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Create an extension that computes zero or more
							values for this facet from a state.
						</p>
					</dd>
					<dt id="state.Facet.from">
						<code
							><strong
								><a href="#state.Facet.from">from</a></strong
							>&lt;<a
								id="state.Facet.from^T"
								href="#state.Facet.from^T"
								>T</a
							>
							<span class="keyword">extends</span>
							<a href="#state.Facet^Input"
								><span class="type">Input</span></a
							>&gt;(<a
								id="state.Facet.from^field"
								href="#state.Facet.from^field"
								><span class="param">field</span></a
							>:&nbsp;<a href="#state.StateField"
								><span class="type">StateField</span></a
							>&lt;<a href="#state.Facet.from^T"
								><span class="type">T</span></a
							>&gt;) →&nbsp;<a href="#state.Extension"
								><span class="type">Extension</span></a
							></code
						>
						<div>
							<code
								><strong
									><a href="#state.Facet.from"
										>from</a
									></strong
								>&lt;<a
									id="state.Facet.from^T"
									href="#state.Facet.from^T"
									>T</a
								>&gt;(<a
									id="state.Facet.from^field"
									href="#state.Facet.from^field"
									><span class="param">field</span></a
								>:&nbsp;<a href="#state.StateField"
									><span class="type">StateField</span></a
								>&lt;<a href="#state.Facet.from^T"
									><span class="type">T</span></a
								>&gt;,
								<a
									id="state.Facet.from^get"
									href="#state.Facet.from^get"
									><span class="param">get</span></a
								>:&nbsp;<span class="fn">fn</span>(<a
									id="state.Facet.from^get^value"
									href="#state.Facet.from^get^value"
									><span class="param">value</span></a
								>:&nbsp;<a href="#state.Facet.from^T"
									><span class="type">T</span></a
								>) →&nbsp;<a href="#state.Facet^Input"
									><span class="type">Input</span></a
								>) →&nbsp;<a href="#state.Extension"
									><span class="type">Extension</span></a
								></code
							>
						</div>
					</dt>

					<dd>
						<p>
							Shorthand method for registering a facet source with
							a state field as input. If the field's type
							corresponds to this facet's input type, the getter
							function can be omitted. If given, it will be used
							to retrieve the input from the field value.
						</p>
					</dd>
					<dt id="state.Facet^define">
						<code
							><span class="keyword">static</span>
							<strong
								><a href="#state.Facet^define"
									>define</a
								></strong
							>&lt;<a
								id="state.Facet^define^Input"
								href="#state.Facet^define^Input"
								>Input</a
							>,
							<a
								id="state.Facet^define^Output"
								href="#state.Facet^define^Output"
								>Output</a
							>
							= readonly Input[]&gt;(<a
								id="state.Facet^define^config"
								href="#state.Facet^define^config"
								><span class="param">config</span></a
							>⁠?:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"
								><span class="type">Object</span></a
							><span class="defaultvalue"> = {}</span>) →&nbsp;<a
								href="#state.Facet"
								><span class="type">Facet</span></a
							>&lt;<a href="#state.Facet^define^Input"
								><span class="type">Input</span></a
							>,
							<a href="#state.Facet^define^Output"
								><span class="type">Output</span></a
							>&gt;</code
						>
					</dt>

					<dd>
						<p>Define a new facet.</p>
						<dl>
							<dt id="state.Facet^define^config">
								<code
									><strong
										><a href="#state.Facet^define^config"
											>config</a
										></strong
									></code
								>
							</dt>

							<dd>
								<dl>
									<dt id="state.Facet^define^config.combine">
										<code
											><strong
												><a
													href="#state.Facet^define^config.combine"
													>combine</a
												></strong
											>⁠?: <span class="fn">fn</span>(<a
												id="state.Facet^define^config.combine^value"
												href="#state.Facet^define^config.combine^value"
												><span class="param"
													>value</span
												></a
											>:&nbsp;<span class="keyword"
												>readonly</span
											>&nbsp;<a
												href="#state.Facet^define^Input"
												><span class="type"
													>Input</span
												></a
											>[]) →&nbsp;<a
												href="#state.Facet^define^Output"
												><span class="type"
													>Output</span
												></a
											></code
										>
									</dt>

									<dd>
										<p>
											How to combine the input values into
											a single output value. When not
											given, the array of input values
											becomes the output. This function
											will immediately be called on
											creating the facet, with an empty
											array, to compute the facet's
											default value when no inputs are
											present.
										</p>
									</dd>
									<dt id="state.Facet^define^config.compare">
										<code
											><strong
												><a
													href="#state.Facet^define^config.compare"
													>compare</a
												></strong
											>⁠?: <span class="fn">fn</span>(<a
												id="state.Facet^define^config.compare^a"
												href="#state.Facet^define^config.compare^a"
												><span class="param">a</span></a
											>:&nbsp;<a
												href="#state.Facet^define^Output"
												><span class="type"
													>Output</span
												></a
											>,
											<a
												id="state.Facet^define^config.compare^b"
												href="#state.Facet^define^config.compare^b"
												><span class="param">b</span></a
											>:&nbsp;<a
												href="#state.Facet^define^Output"
												><span class="type"
													>Output</span
												></a
											>) →&nbsp;<a
												href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"
												><span class="prim"
													>boolean</span
												></a
											></code
										>
									</dt>

									<dd>
										<p>
											How to compare output values to
											determine whether the value of the
											facet changed. Defaults to comparing
											by
											<code>===</code> or, if no
											<code>combine</code> function was
											given, comparing each element of the
											array with <code>===</code>.
										</p>
									</dd>
									<dt
										id="state.Facet^define^config.compareInput"
									>
										<code
											><strong
												><a
													href="#state.Facet^define^config.compareInput"
													>compareInput</a
												></strong
											>⁠?: <span class="fn">fn</span>(<a
												id="state.Facet^define^config.compareInput^a"
												href="#state.Facet^define^config.compareInput^a"
												><span class="param">a</span></a
											>:&nbsp;<a
												href="#state.Facet^define^Input"
												><span class="type"
													>Input</span
												></a
											>,
											<a
												id="state.Facet^define^config.compareInput^b"
												href="#state.Facet^define^config.compareInput^b"
												><span class="param">b</span></a
											>:&nbsp;<a
												href="#state.Facet^define^Input"
												><span class="type"
													>Input</span
												></a
											>) →&nbsp;<a
												href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"
												><span class="prim"
													>boolean</span
												></a
											></code
										>
									</dt>

									<dd>
										<p>
											How to compare input values to avoid
											recomputing the output value when no
											inputs changed. Defaults to
											comparing with <code>===</code>.
										</p>
									</dd>
									<dt id="state.Facet^define^config.static">
										<code
											><strong
												><a
													href="#state.Facet^define^config.static"
													>static</a
												></strong
											>⁠?:
											<a
												href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"
												><span class="prim"
													>boolean</span
												></a
											></code
										>
									</dt>

									<dd>
										<p>
											Forbids dynamic inputs to this
											facet.
										</p>
									</dd>
									<dt id="state.Facet^define^config.enables">
										<code
											><strong
												><a
													href="#state.Facet^define^config.enables"
													>enables</a
												></strong
											>⁠?:
											<a href="#state.Extension"
												><span class="type"
													>Extension</span
												></a
											>
											| <span class="fn">fn</span>(<a
												id="state.Facet^define^config.enables^self"
												href="#state.Facet^define^config.enables^self"
												><span class="param"
													>self</span
												></a
											>:&nbsp;<a href="#state.Facet"
												><span class="type"
													>Facet</span
												></a
											>&lt;<a
												href="#state.Facet^define^Input"
												><span class="type"
													>Input</span
												></a
											>,
											<a href="#state.Facet^define^Output"
												><span class="type"
													>Output</span
												></a
											>&gt;) →&nbsp;<a
												href="#state.Extension"
												><span class="type"
													>Extension</span
												></a
											></code
										>
									</dt>

									<dd>
										<p>
											If given, these extension(s) (or the
											result of calling the given function
											with the facet) will be added to any
											state where this facet is provided.
											(Note that, while a facet's default
											value can be read from a state even
											if the facet wasn't present in the
											state at all, these extensions won't
											be added in that situation.)
										</p>
									</dd>
								</dl>
							</dd>
						</dl>
					</dd>
				</dl>
			</dd>
			<dt id="state.FacetReader">
				<h4>
					<code><span class="keyword">type</span></code>
					<a href="#state.FacetReader">FacetReader</a
					><code
						>&lt;<a
							id="state.FacetReader^Output"
							href="#state.FacetReader^Output"
							>Output</a
						>&gt;</code
					>
				</h4>
			</dt>

			<dd>
				<p>
					A facet reader can be used to fetch the value of a facet,
					through
					<a href="#state.EditorState.facet"
						><code>EditorState.facet</code></a
					>
					or as a dependency in
					<a href="#state.Facet.compute"><code>Facet.compute</code></a
					>, but not to define new values for the facet.
				</p>
				<dl>
					<dt id="state.FacetReader.tag">
						<code
							><strong
								><a href="#state.FacetReader.tag"
									>tag</a
								></strong
							>:
							<a href="#state.FacetReader^Output"
								><span class="type">Output</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Dummy tag that makes sure TypeScript doesn't
							consider all object types as conforming to this
							type. Not actually present on the object.
						</p>
					</dd>
				</dl>
			</dd>
			<dt id="state.Prec">
				<code
					><strong><a href="#state.Prec">Prec</a></strong
					>:
					<a
						href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"
						><span class="type">Object</span></a
					></code
				>
			</dt>

			<dd>
				<p>
					By default extensions are registered in the order they are
					found in the flattened form of nested array that was
					provided. Individual extension values can be assigned a
					precedence to override this. Extensions that do not have a
					precedence set get the precedence of the nearest parent with
					a precedence, or
					<a href="#state.Prec.default"><code>default</code></a> if
					there is no such parent. The final ordering of extensions is
					determined by first sorting by precedence and then by order
					within each precedence.
				</p>
				<dl>
					<dt id="state.Prec.highest">
						<code
							><strong
								><a href="#state.Prec.highest"
									>highest</a
								></strong
							>(<a
								id="state.Prec.highest^ext"
								href="#state.Prec.highest^ext"
								><span class="param">ext</span></a
							>:&nbsp;<a href="#state.Extension"
								><span class="type">Extension</span></a
							>) →&nbsp;<a href="#state.Extension"
								><span class="type">Extension</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							The highest precedence level, for extensions that
							should end up near the start of the precedence
							ordering.
						</p>
					</dd>
					<dt id="state.Prec.high">
						<code
							><strong><a href="#state.Prec.high">high</a></strong
							>(<a
								id="state.Prec.high^ext"
								href="#state.Prec.high^ext"
								><span class="param">ext</span></a
							>:&nbsp;<a href="#state.Extension"
								><span class="type">Extension</span></a
							>) →&nbsp;<a href="#state.Extension"
								><span class="type">Extension</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							A higher-than-default precedence, for extensions
							that should come before those with default
							precedence.
						</p>
					</dd>
					<dt id="state.Prec.default">
						<code
							><strong
								><a href="#state.Prec.default"
									>default</a
								></strong
							>(<a
								id="state.Prec.default^ext"
								href="#state.Prec.default^ext"
								><span class="param">ext</span></a
							>:&nbsp;<a href="#state.Extension"
								><span class="type">Extension</span></a
							>) →&nbsp;<a href="#state.Extension"
								><span class="type">Extension</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							The default precedence, which is also used for
							extensions without an explicit precedence.
						</p>
					</dd>
					<dt id="state.Prec.low">
						<code
							><strong><a href="#state.Prec.low">low</a></strong
							>(<a
								id="state.Prec.low^ext"
								href="#state.Prec.low^ext"
								><span class="param">ext</span></a
							>:&nbsp;<a href="#state.Extension"
								><span class="type">Extension</span></a
							>) →&nbsp;<a href="#state.Extension"
								><span class="type">Extension</span></a
							></code
						>
					</dt>

					<dd><p>A lower-than-default precedence.</p></dd>
					<dt id="state.Prec.lowest">
						<code
							><strong
								><a href="#state.Prec.lowest">lowest</a></strong
							>(<a
								id="state.Prec.lowest^ext"
								href="#state.Prec.lowest^ext"
								><span class="param">ext</span></a
							>:&nbsp;<a href="#state.Extension"
								><span class="type">Extension</span></a
							>) →&nbsp;<a href="#state.Extension"
								><span class="type">Extension</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							The lowest precedence level. Meant for things that
							should end up near the end of the extension order.
						</p>
					</dd>
				</dl>
			</dd>
			<dt id="state.Compartment">
				<h4>
					<code><span class="keyword">class</span></code>
					<a href="#state.Compartment">Compartment</a>
				</h4>
			</dt>

			<dd>
				<p>
					Extension compartments can be used to make a configuration
					dynamic. By
					<a href="#state.Compartment.of">wrapping</a> part of your
					configuration in a compartment, you can later
					<a href="#state.Compartment.reconfigure">replace</a> that
					part through a transaction.
				</p>
				<dl>
					<dt id="state.Compartment.of">
						<code
							><strong
								><a href="#state.Compartment.of">of</a></strong
							>(<a
								id="state.Compartment.of^ext"
								href="#state.Compartment.of^ext"
								><span class="param">ext</span></a
							>:&nbsp;<a href="#state.Extension"
								><span class="type">Extension</span></a
							>) →&nbsp;<a href="#state.Extension"
								><span class="type">Extension</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Create an instance of this compartment to add to
							your
							<a href="#state.EditorStateConfig.extensions"
								>state configuration</a
							>.
						</p>
					</dd>
					<dt id="state.Compartment.reconfigure">
						<code
							><strong
								><a href="#state.Compartment.reconfigure"
									>reconfigure</a
								></strong
							>(<a
								id="state.Compartment.reconfigure^content"
								href="#state.Compartment.reconfigure^content"
								><span class="param">content</span></a
							>:&nbsp;<a href="#state.Extension"
								><span class="type">Extension</span></a
							>) →&nbsp;<a href="#state.StateEffect"
								><span class="type">StateEffect</span></a
							>&lt;<span class="type">unknown</span>&gt;</code
						>
					</dt>

					<dd>
						<p>
							Create an
							<a href="#state.TransactionSpec.effects">effect</a>
							that reconfigures this compartment.
						</p>
					</dd>
					<dt id="state.Compartment.get">
						<code
							><strong
								><a href="#state.Compartment.get"
									>get</a
								></strong
							>(<a
								id="state.Compartment.get^state"
								href="#state.Compartment.get^state"
								><span class="param">state</span></a
							>:&nbsp;<a href="#state.EditorState"
								><span class="type">EditorState</span></a
							>) →&nbsp;<a href="#state.Extension"
								><span class="type">Extension</span></a
							>
							|
							<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined"
								><span class="prim">undefined</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Get the current content of the compartment in the
							state, or <code>undefined</code> if it isn't
							present.
						</p>
					</dd>
				</dl>
			</dd>
		</dl>
		<h3 id="h_range_sets" tabindex="-1">Range Sets</h3>
		<p>
			Range sets provide a data structure that can hold a collection of
			tagged, possibly overlapping <a href="#state.Range">ranges</a> in
			such a way that they can efficiently be
			<a href="#state.RangeSet.map">mapped</a> though document changes.
			They are used for storing things like
			<a href="#view.Decoration">decorations</a> or
			<a href="#view.GutterMarker">gutter markers</a>.
		</p>
		<dl>
			<dt id="state.RangeValue">
				<h4>
					<code
						><span class="keyword"
							><span class="keyword">abstract</span> class</span
						></code
					>
					<a href="#state.RangeValue">RangeValue</a>
				</h4>
			</dt>

			<dd>
				<p>
					Each range is associated with a value, which must inherit
					from this class.
				</p>
				<dl>
					<dt id="state.RangeValue.eq">
						<code
							><strong
								><a href="#state.RangeValue.eq">eq</a></strong
							>(<a
								id="state.RangeValue.eq^other"
								href="#state.RangeValue.eq^other"
								><span class="param">other</span></a
							>:&nbsp;<a href="#state.RangeValue"
								><span class="type">RangeValue</span></a
							>) →&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"
								><span class="prim">boolean</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Compare this value with another value. Used when
							comparing rangesets. The default implementation
							compares by identity. Unless you are only creating a
							fixed number of unique instances of your value type,
							it is a good idea to implement this properly.
						</p>
					</dd>
					<dt id="state.RangeValue.startSide">
						<code
							><strong
								><a href="#state.RangeValue.startSide"
									>startSide</a
								></strong
							>:
							<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							The bias value at the start of the range. Determines
							how the range is positioned relative to other ranges
							starting at this position. Defaults to 0.
						</p>
					</dd>
					<dt id="state.RangeValue.endSide">
						<code
							><strong
								><a href="#state.RangeValue.endSide"
									>endSide</a
								></strong
							>:
							<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							The bias value at the end of the range. Defaults to
							0.
						</p>
					</dd>
					<dt id="state.RangeValue.mapMode">
						<code
							><strong
								><a href="#state.RangeValue.mapMode"
									>mapMode</a
								></strong
							>:
							<a href="#state.MapMode"
								><span class="type">MapMode</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							The mode with which the location of the range should
							be mapped when its <code>from</code> and
							<code>to</code> are the same, to decide whether a
							change deletes the range. Defaults to
							<code>MapMode.TrackDel</code>.
						</p>
					</dd>
					<dt id="state.RangeValue.point">
						<code
							><strong
								><a href="#state.RangeValue.point"
									>point</a
								></strong
							>:
							<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"
								><span class="prim">boolean</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Determines whether this value marks a point range.
							Regular ranges affect the part of the document they
							cover, and are meaningless when empty. Point ranges
							have a meaning on their own. When non-empty, a point
							range is treated as atomic and shadows any ranges
							contained in it.
						</p>
					</dd>
					<dt id="state.RangeValue.range">
						<code
							><strong
								><a href="#state.RangeValue.range"
									>range</a
								></strong
							>(<a
								id="state.RangeValue.range^from"
								href="#state.RangeValue.range^from"
								><span class="param">from</span></a
							>:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							>,
							<a
								id="state.RangeValue.range^to"
								href="#state.RangeValue.range^to"
								><span class="param">to</span></a
							>⁠?:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							><span class="defaultvalue"> = from</span>)
							→&nbsp;<a href="#state.Range"
								><span class="type">Range</span></a
							>&lt;<a href="#state.RangeValue"
								><span class="type">RangeValue</span></a
							>&gt;</code
						>
					</dt>

					<dd>
						<p>
							Create a <a href="#state.Range">range</a> with this
							value.
						</p>
					</dd>
				</dl>
			</dd>
			<dt id="state.Range">
				<h4>
					<code><span class="keyword">class</span></code>
					<a href="#state.Range">Range</a
					><code
						>&lt;<a id="state.Range^T" href="#state.Range^T">T</a>
						<span class="keyword">extends</span>
						<a href="#state.RangeValue"
							><span class="type">RangeValue</span></a
						>&gt;</code
					>
				</h4>
			</dt>

			<dd>
				<p>A range associates a value with a range of positions.</p>
				<dl>
					<dt id="state.Range.from">
						<code
							><strong
								><a href="#state.Range.from">from</a></strong
							>:
							<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							></code
						>
					</dt>

					<dd><p>The range's start position.</p></dd>
					<dt id="state.Range.to">
						<code
							><strong><a href="#state.Range.to">to</a></strong
							>:
							<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							></code
						>
					</dt>

					<dd><p>Its end position.</p></dd>
					<dt id="state.Range.value">
						<code
							><strong
								><a href="#state.Range.value">value</a></strong
							>:
							<a href="#state.Range^T"
								><span class="type">T</span></a
							></code
						>
					</dt>

					<dd><p>The value associated with this range.</p></dd>
				</dl>
			</dd>
			<dt id="state.RangeSet">
				<h4>
					<code><span class="keyword">class</span></code>
					<a href="#state.RangeSet">RangeSet</a
					><code
						>&lt;<a id="state.RangeSet^T" href="#state.RangeSet^T"
							>T</a
						>
						<span class="keyword">extends</span>
						<a href="#state.RangeValue"
							><span class="type">RangeValue</span></a
						>&gt;</code
					>
				</h4>
			</dt>

			<dd>
				<p>
					A range set stores a collection of
					<a href="#state.Range">ranges</a> in a way that makes them
					efficient to <a href="#state.RangeSet.map">map</a> and
					<a href="#state.RangeSet.update">update</a>. This is an
					immutable data structure.
				</p>
				<dl>
					<dt id="state.RangeSet.size">
						<code
							><strong
								><a href="#state.RangeSet.size">size</a></strong
							>:
							<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							></code
						>
					</dt>

					<dd><p>The number of ranges in the set.</p></dd>
					<dt id="state.RangeSet.update">
						<code
							><strong
								><a href="#state.RangeSet.update"
									>update</a
								></strong
							>&lt;<a
								id="state.RangeSet.update^U"
								href="#state.RangeSet.update^U"
								>U</a
							>
							<span class="keyword">extends</span>
							<a href="#state.RangeSet^T"
								><span class="type">T</span></a
							>&gt;(<a
								id="state.RangeSet.update^updateSpec"
								href="#state.RangeSet.update^updateSpec"
								><span class="param">updateSpec</span></a
							>:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"
								><span class="type">Object</span></a
							>) →&nbsp;<a href="#state.RangeSet"
								><span class="type">RangeSet</span></a
							>&lt;<a href="#state.RangeSet^T"
								><span class="type">T</span></a
							>&gt;</code
						>
					</dt>

					<dd>
						<p>
							Update the range set, optionally adding new ranges
							or filtering out existing ones.
						</p>
						<p>
							(Note: The type parameter is just there as a kludge
							to work around TypeScript variance issues that
							prevented
							<code>RangeSet&lt;X&gt;</code> from being a subtype
							of <code>RangeSet&lt;Y&gt;</code> when
							<code>X</code> is a subtype of <code>Y</code>.)
						</p>
						<dl>
							<dt id="state.RangeSet.update^updateSpec">
								<code
									><strong
										><a
											href="#state.RangeSet.update^updateSpec"
											>updateSpec</a
										></strong
									></code
								>
							</dt>

							<dd>
								<dl>
									<dt
										id="state.RangeSet.update^updateSpec.add"
									>
										<code
											><strong
												><a
													href="#state.RangeSet.update^updateSpec.add"
													>add</a
												></strong
											>⁠?:
											<span class="keyword">readonly</span
											>&nbsp;<a href="#state.Range"
												><span class="type"
													>Range</span
												></a
											>&lt;<a
												href="#state.RangeSet.update^U"
												><span class="type">U</span></a
											>&gt;[]</code
										>
									</dt>

									<dd>
										<p>
											An array of ranges to add. If given,
											this should be sorted by
											<code>from</code> position and
											<code>startSide</code> unless
											<a
												href="#state.RangeSet.update%5EupdateSpec.sort"
												><code>sort</code></a
											>
											is given as <code>true</code>.
										</p>
									</dd>
									<dt
										id="state.RangeSet.update^updateSpec.sort"
									>
										<code
											><strong
												><a
													href="#state.RangeSet.update^updateSpec.sort"
													>sort</a
												></strong
											>⁠?:
											<a
												href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"
												><span class="prim"
													>boolean</span
												></a
											></code
										>
									</dt>

									<dd>
										<p>
											Indicates whether the library should
											sort the ranges in <code>add</code>.
											Defaults to <code>false</code>.
										</p>
									</dd>
									<dt
										id="state.RangeSet.update^updateSpec.filter"
									>
										<code
											><strong
												><a
													href="#state.RangeSet.update^updateSpec.filter"
													>filter</a
												></strong
											>⁠?: <span class="fn">fn</span>(<a
												id="state.RangeSet.update^updateSpec.filter^from"
												href="#state.RangeSet.update^updateSpec.filter^from"
												><span class="param"
													>from</span
												></a
											>:&nbsp;<a
												href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
												><span class="prim"
													>number</span
												></a
											>,
											<a
												id="state.RangeSet.update^updateSpec.filter^to"
												href="#state.RangeSet.update^updateSpec.filter^to"
												><span class="param"
													>to</span
												></a
											>:&nbsp;<a
												href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
												><span class="prim"
													>number</span
												></a
											>,
											<a
												id="state.RangeSet.update^updateSpec.filter^value"
												href="#state.RangeSet.update^updateSpec.filter^value"
												><span class="param"
													>value</span
												></a
											>:&nbsp;<a
												href="#state.RangeSet.update^U"
												><span class="type">U</span></a
											>) →&nbsp;<a
												href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"
												><span class="prim"
													>boolean</span
												></a
											></code
										>
									</dt>

									<dd>
										<p>
											Filter the ranges already in the
											set. Only those for which this
											function returns
											<code>true</code> are kept.
										</p>
									</dd>
									<dt
										id="state.RangeSet.update^updateSpec.filterFrom"
									>
										<code
											><strong
												><a
													href="#state.RangeSet.update^updateSpec.filterFrom"
													>filterFrom</a
												></strong
											>⁠?:
											<a
												href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
												><span class="prim"
													>number</span
												></a
											></code
										>
									</dt>

									<dd>
										<p>
											Can be used to limit the range on
											which the filter is applied.
											Filtering only a small range, as
											opposed to the entire set, can make
											updates cheaper.
										</p>
									</dd>
									<dt
										id="state.RangeSet.update^updateSpec.filterTo"
									>
										<code
											><strong
												><a
													href="#state.RangeSet.update^updateSpec.filterTo"
													>filterTo</a
												></strong
											>⁠?:
											<a
												href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
												><span class="prim"
													>number</span
												></a
											></code
										>
									</dt>

									<dd>
										<p>
											The end position to apply the filter
											to.
										</p>
									</dd>
								</dl>
							</dd>
						</dl>
					</dd>
					<dt id="state.RangeSet.map">
						<code
							><strong
								><a href="#state.RangeSet.map">map</a></strong
							>(<a
								id="state.RangeSet.map^changes"
								href="#state.RangeSet.map^changes"
								><span class="param">changes</span></a
							>:&nbsp;<a href="#state.ChangeDesc"
								><span class="type">ChangeDesc</span></a
							>) →&nbsp;<a href="#state.RangeSet"
								><span class="type">RangeSet</span></a
							>&lt;<a href="#state.RangeSet^T"
								><span class="type">T</span></a
							>&gt;</code
						>
					</dt>

					<dd>
						<p>
							Map this range set through a set of changes, return
							the new set.
						</p>
					</dd>
					<dt id="state.RangeSet.between">
						<code
							><strong
								><a href="#state.RangeSet.between"
									>between</a
								></strong
							>(
							<div class="breaktype">
								<a
									id="state.RangeSet.between^from"
									href="#state.RangeSet.between^from"
									><span class="param">from</span></a
								>:&nbsp;<a
									href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
									><span class="prim">number</span></a
								>,
							</div>
							<div class="breaktype">
								<a
									id="state.RangeSet.between^to"
									href="#state.RangeSet.between^to"
									><span class="param">to</span></a
								>:&nbsp;<a
									href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
									><span class="prim">number</span></a
								>,
							</div>
							<div class="breaktype">
								<a
									id="state.RangeSet.between^f"
									href="#state.RangeSet.between^f"
									><span class="param">f</span></a
								>:&nbsp;<span class="fn">fn</span>(<a
									id="state.RangeSet.between^f^from"
									href="#state.RangeSet.between^f^from"
									><span class="param">from</span></a
								>:&nbsp;<a
									href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
									><span class="prim">number</span></a
								>,
								<a
									id="state.RangeSet.between^f^to"
									href="#state.RangeSet.between^f^to"
									><span class="param">to</span></a
								>:&nbsp;<a
									href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
									><span class="prim">number</span></a
								>,
								<a
									id="state.RangeSet.between^f^value"
									href="#state.RangeSet.between^f^value"
									><span class="param">value</span></a
								>:&nbsp;<a href="#state.RangeSet^T"
									><span class="type">T</span></a
								>) →&nbsp;<a
									href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"
									><span class="type">false</span></a
								>
								|
								<a
									href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined"
									><span class="prim">undefined</span></a
								>
							</div>
							)</code
						>
					</dt>

					<dd>
						<p>
							Iterate over the ranges that touch the region
							<code>from</code> to <code>to</code>, calling
							<code>f</code> for each. There is no guarantee that
							the ranges will be reported in any specific order.
							When the callback returns <code>false</code>,
							iteration stops.
						</p>
					</dd>
					<dt id="state.RangeSet.iter">
						<code
							><strong
								><a href="#state.RangeSet.iter">iter</a></strong
							>(<a
								id="state.RangeSet.iter^from"
								href="#state.RangeSet.iter^from"
								><span class="param">from</span></a
							>⁠?:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							><span class="defaultvalue"> = 0</span>) →&nbsp;<a
								href="#state.RangeCursor"
								><span class="type">RangeCursor</span></a
							>&lt;<a href="#state.RangeSet^T"
								><span class="type">T</span></a
							>&gt;</code
						>
					</dt>

					<dd>
						<p>
							Iterate over the ranges in this set, in order,
							including all ranges that end at or after
							<code>from</code>.
						</p>
					</dd>
					<dt id="state.RangeSet^iter">
						<code
							><span class="keyword">static</span>
							<strong
								><a href="#state.RangeSet^iter">iter</a></strong
							>&lt;<a
								id="state.RangeSet^iter^T"
								href="#state.RangeSet^iter^T"
								>T</a
							>
							<span class="keyword">extends</span>
							<a href="#state.RangeValue"
								><span class="type">RangeValue</span></a
							>&gt;(<a
								id="state.RangeSet^iter^sets"
								href="#state.RangeSet^iter^sets"
								><span class="param">sets</span></a
							>:&nbsp;<span class="keyword">readonly</span
							>&nbsp;<a href="#state.RangeSet"
								><span class="type">RangeSet</span></a
							>&lt;<a href="#state.RangeSet^iter^T"
								><span class="type">T</span></a
							>&gt;[],
							<a
								id="state.RangeSet^iter^from"
								href="#state.RangeSet^iter^from"
								><span class="param">from</span></a
							>⁠?:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							><span class="defaultvalue"> = 0</span>) →&nbsp;<a
								href="#state.RangeCursor"
								><span class="type">RangeCursor</span></a
							>&lt;<a href="#state.RangeSet^iter^T"
								><span class="type">T</span></a
							>&gt;</code
						>
					</dt>

					<dd>
						<p>
							Iterate over the ranges in a collection of sets, in
							order, starting from <code>from</code>.
						</p>
					</dd>
					<dt id="state.RangeSet^compare">
						<code
							><span class="keyword">static</span>
							<strong
								><a href="#state.RangeSet^compare"
									>compare</a
								></strong
							>&lt;<a
								id="state.RangeSet^compare^T"
								href="#state.RangeSet^compare^T"
								>T</a
							>
							<span class="keyword">extends</span>
							<a href="#state.RangeValue"
								><span class="type">RangeValue</span></a
							>&gt;(
							<div class="breaktype">
								<a
									id="state.RangeSet^compare^oldSets"
									href="#state.RangeSet^compare^oldSets"
									><span class="param">oldSets</span></a
								>:&nbsp;<span class="keyword">readonly</span
								>&nbsp;<a href="#state.RangeSet"
									><span class="type">RangeSet</span></a
								>&lt;<a href="#state.RangeSet^compare^T"
									><span class="type">T</span></a
								>&gt;[],
							</div>
							<div class="breaktype">
								<a
									id="state.RangeSet^compare^newSets"
									href="#state.RangeSet^compare^newSets"
									><span class="param">newSets</span></a
								>:&nbsp;<span class="keyword">readonly</span
								>&nbsp;<a href="#state.RangeSet"
									><span class="type">RangeSet</span></a
								>&lt;<a href="#state.RangeSet^compare^T"
									><span class="type">T</span></a
								>&gt;[],
							</div>
							<div class="breaktype">
								<span class="param">textDiff</span>:&nbsp;<a
									href="#state.ChangeDesc"
									><span class="type">ChangeDesc</span></a
								>,
							</div>
							<div class="breaktype">
								<a
									id="state.RangeSet^compare^comparator"
									href="#state.RangeSet^compare^comparator"
									><span class="param">comparator</span></a
								>:&nbsp;<a href="#state.RangeComparator"
									><span class="type"
										>RangeComparator</span
									></a
								>&lt;<a href="#state.RangeSet^compare^T"
									><span class="type">T</span></a
								>&gt;,
							</div>
							<div class="breaktype">
								<span class="param">minPointSize</span
								>⁠?:&nbsp;<a
									href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
									><span class="prim">number</span></a
								><span class="defaultvalue"> = -1</span>
							</div>
							)</code
						>
					</dt>

					<dd>
						<p>
							Iterate over two groups of sets, calling methods on
							<code>comparator</code> to notify it of possible
							differences.
						</p>
						<dl>
							<dt id="state.RangeSet^compare^textDiff">
								<code
									><strong
										><a
											href="#state.RangeSet^compare^textDiff"
											>textDiff</a
										></strong
									></code
								>
							</dt>

							<dd>
								<p>
									This indicates how the underlying data
									changed between these ranges, and is needed
									to synchronize the iteration.
								</p>
							</dd>
							<dt id="state.RangeSet^compare^minPointSize">
								<code
									><strong
										><a
											href="#state.RangeSet^compare^minPointSize"
											>minPointSize</a
										></strong
									></code
								>
							</dt>

							<dd>
								<p>
									Can be used to ignore all non-point ranges,
									and points below the given size. When -1,
									all ranges are compared.
								</p>
							</dd>
						</dl>
					</dd>
					<dt id="state.RangeSet^eq">
						<code
							><span class="keyword">static</span>
							<strong><a href="#state.RangeSet^eq">eq</a></strong
							>&lt;<a
								id="state.RangeSet^eq^T"
								href="#state.RangeSet^eq^T"
								>T</a
							>
							<span class="keyword">extends</span>
							<a href="#state.RangeValue"
								><span class="type">RangeValue</span></a
							>&gt;(
							<div class="breaktype">
								<a
									id="state.RangeSet^eq^oldSets"
									href="#state.RangeSet^eq^oldSets"
									><span class="param">oldSets</span></a
								>:&nbsp;<span class="keyword">readonly</span
								>&nbsp;<a href="#state.RangeSet"
									><span class="type">RangeSet</span></a
								>&lt;<a href="#state.RangeSet^eq^T"
									><span class="type">T</span></a
								>&gt;[],
							</div>
							<div class="breaktype">
								<a
									id="state.RangeSet^eq^newSets"
									href="#state.RangeSet^eq^newSets"
									><span class="param">newSets</span></a
								>:&nbsp;<span class="keyword">readonly</span
								>&nbsp;<a href="#state.RangeSet"
									><span class="type">RangeSet</span></a
								>&lt;<a href="#state.RangeSet^eq^T"
									><span class="type">T</span></a
								>&gt;[],
							</div>
							<div class="breaktype">
								<a
									id="state.RangeSet^eq^from"
									href="#state.RangeSet^eq^from"
									><span class="param">from</span></a
								>⁠?:&nbsp;<a
									href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
									><span class="prim">number</span></a
								><span class="defaultvalue"> = 0</span>,
							</div>
							<div class="breaktype">
								<a
									id="state.RangeSet^eq^to"
									href="#state.RangeSet^eq^to"
									><span class="param">to</span></a
								>⁠?:&nbsp;<a
									href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
									><span class="prim">number</span></a
								>
							</div>
							) →&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"
								><span class="prim">boolean</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Compare the contents of two groups of range sets,
							returning true if they are equivalent in the given
							range.
						</p>
					</dd>
					<dt id="state.RangeSet^spans">
						<code
							><span class="keyword">static</span>
							<strong
								><a href="#state.RangeSet^spans"
									>spans</a
								></strong
							>&lt;<a
								id="state.RangeSet^spans^T"
								href="#state.RangeSet^spans^T"
								>T</a
							>
							<span class="keyword">extends</span>
							<a href="#state.RangeValue"
								><span class="type">RangeValue</span></a
							>&gt;(
							<div class="breaktype">
								<a
									id="state.RangeSet^spans^sets"
									href="#state.RangeSet^spans^sets"
									><span class="param">sets</span></a
								>:&nbsp;<span class="keyword">readonly</span
								>&nbsp;<a href="#state.RangeSet"
									><span class="type">RangeSet</span></a
								>&lt;<a href="#state.RangeSet^spans^T"
									><span class="type">T</span></a
								>&gt;[],
							</div>
							<div class="breaktype">
								<a
									id="state.RangeSet^spans^from"
									href="#state.RangeSet^spans^from"
									><span class="param">from</span></a
								>:&nbsp;<a
									href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
									><span class="prim">number</span></a
								>,
							</div>
							<div class="breaktype">
								<a
									id="state.RangeSet^spans^to"
									href="#state.RangeSet^spans^to"
									><span class="param">to</span></a
								>:&nbsp;<a
									href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
									><span class="prim">number</span></a
								>,
							</div>
							<div class="breaktype">
								<a
									id="state.RangeSet^spans^iterator"
									href="#state.RangeSet^spans^iterator"
									><span class="param">iterator</span></a
								>:&nbsp;<a href="#state.SpanIterator"
									><span class="type">SpanIterator</span></a
								>&lt;<a href="#state.RangeSet^spans^T"
									><span class="type">T</span></a
								>&gt;,
							</div>
							<div class="breaktype">
								<span class="param">minPointSize</span
								>⁠?:&nbsp;<a
									href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
									><span class="prim">number</span></a
								><span class="defaultvalue"> = -1</span>
							</div>
							) →&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							Iterate over a group of range sets at the same time,
							notifying the iterator about the ranges covering
							every given piece of content. Returns the open count
							(see
							<a href="#state.SpanIterator.span"
								><code>SpanIterator.span</code></a
							>) at the end of the iteration.
						</p>
						<dl>
							<dt id="state.RangeSet^spans^minPointSize">
								<code
									><strong
										><a
											href="#state.RangeSet^spans^minPointSize"
											>minPointSize</a
										></strong
									></code
								>
							</dt>

							<dd>
								<p>
									When given and greater than -1, only points
									of at least this size are taken into
									account.
								</p>
							</dd>
						</dl>
					</dd>
					<dt id="state.RangeSet^of">
						<code
							><span class="keyword">static</span>
							<strong><a href="#state.RangeSet^of">of</a></strong
							>&lt;<a
								id="state.RangeSet^of^T"
								href="#state.RangeSet^of^T"
								>T</a
							>
							<span class="keyword">extends</span>
							<a href="#state.RangeValue"
								><span class="type">RangeValue</span></a
							>&gt;(
							<div class="breaktype">
								<a
									id="state.RangeSet^of^ranges"
									href="#state.RangeSet^of^ranges"
									><span class="param">ranges</span></a
								>:&nbsp;<span class="keyword">readonly</span
								>&nbsp;<a href="#state.Range"
									><span class="type">Range</span></a
								>&lt;<a href="#state.RangeSet^of^T"
									><span class="type">T</span></a
								>&gt;[] |
								<a href="#state.Range"
									><span class="type">Range</span></a
								>&lt;<a href="#state.RangeSet^of^T"
									><span class="type">T</span></a
								>&gt;,
							</div>
							<div class="breaktype">
								<a
									id="state.RangeSet^of^sort"
									href="#state.RangeSet^of^sort"
									><span class="param">sort</span></a
								>⁠?:&nbsp;<a
									href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"
									><span class="prim">boolean</span></a
								><span class="defaultvalue"> = false</span>
							</div>
							) →&nbsp;<a href="#state.RangeSet"
								><span class="type">RangeSet</span></a
							>&lt;<a href="#state.RangeSet^of^T"
								><span class="type">T</span></a
							>&gt;</code
						>
					</dt>

					<dd>
						<p>
							Create a range set for the given range or array of
							ranges. By default, this expects the ranges to be
							<em>sorted</em> (by start position and, if two start
							at the same position, <code>value.startSide</code>).
							You can pass <code>true</code> as second argument to
							cause the method to sort them.
						</p>
					</dd>
					<dt id="state.RangeSet^join">
						<code
							><span class="keyword">static</span>
							<strong
								><a href="#state.RangeSet^join">join</a></strong
							>&lt;<a
								id="state.RangeSet^join^T"
								href="#state.RangeSet^join^T"
								>T</a
							>
							<span class="keyword">extends</span>
							<a href="#state.RangeValue"
								><span class="type">RangeValue</span></a
							>&gt;(<a
								id="state.RangeSet^join^sets"
								href="#state.RangeSet^join^sets"
								><span class="param">sets</span></a
							>:&nbsp;<span class="keyword">readonly</span
							>&nbsp;<a href="#state.RangeSet"
								><span class="type">RangeSet</span></a
							>&lt;<a href="#state.RangeSet^join^T"
								><span class="type">T</span></a
							>&gt;[]) →&nbsp;<a href="#state.RangeSet"
								><span class="type">RangeSet</span></a
							>&lt;<a href="#state.RangeSet^join^T"
								><span class="type">T</span></a
							>&gt;</code
						>
					</dt>

					<dd>
						<p>Join an array of range sets into a single set.</p>
					</dd>
					<dt id="state.RangeSet^empty">
						<code
							><span class="keyword">static</span>
							<strong
								><a href="#state.RangeSet^empty"
									>empty</a
								></strong
							>:
							<a href="#state.RangeSet"
								><span class="type">RangeSet</span></a
							>&lt;<span class="type">any</span>&gt;</code
						>
					</dt>

					<dd><p>The empty set of ranges.</p></dd>
				</dl>
			</dd>
			<dt id="state.RangeCursor">
				<h4>
					<code><span class="keyword">interface</span></code>
					<a href="#state.RangeCursor">RangeCursor</a
					><code
						>&lt;<a
							id="state.RangeCursor^T"
							href="#state.RangeCursor^T"
							>T</a
						>&gt;</code
					>
				</h4>
			</dt>

			<dd>
				<p>
					A range cursor is an object that moves to the next range
					every time you call <code>next</code> on it. Note that,
					unlike ES6 iterators, these start out pointing at the first
					element, so you should call <code>next</code> only after
					reading the first range (if any).
				</p>
				<dl>
					<dt id="state.RangeCursor.next">
						<code
							><strong
								><a href="#state.RangeCursor.next"
									>next</a
								></strong
							>()</code
						>
					</dt>

					<dd><p>Move the iterator forward.</p></dd>
					<dt id="state.RangeCursor.value">
						<code
							><strong
								><a href="#state.RangeCursor.value"
									>value</a
								></strong
							>:
							<a href="#state.RangeCursor^T"
								><span class="type">T</span></a
							>
							|
							<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"
								><span class="prim">null</span></a
							></code
						>
					</dt>

					<dd>
						<p>
							The next range's value. Holds <code>null</code> when
							the cursor has reached its end.
						</p>
					</dd>
					<dt id="state.RangeCursor.from">
						<code
							><strong
								><a href="#state.RangeCursor.from"
									>from</a
								></strong
							>:
							<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							></code
						>
					</dt>

					<dd><p>The next range's start position.</p></dd>
					<dt id="state.RangeCursor.to">
						<code
							><strong
								><a href="#state.RangeCursor.to">to</a></strong
							>:
							<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							></code
						>
					</dt>

					<dd><p>The next end position.</p></dd>
				</dl>
			</dd>
			<dt id="state.RangeSetBuilder">
				<h4>
					<code><span class="keyword">class</span></code>
					<a href="#state.RangeSetBuilder">RangeSetBuilder</a
					><code
						>&lt;<a
							id="state.RangeSetBuilder^T"
							href="#state.RangeSetBuilder^T"
							>T</a
						>
						<span class="keyword">extends</span>
						<a href="#state.RangeValue"
							><span class="type">RangeValue</span></a
						>&gt;</code
					>
				</h4>
			</dt>

			<dd>
				<p>
					A range set builder is a data structure that helps build up
					a
					<a href="#state.RangeSet">range set</a> directly, without
					first allocating an array of
					<a href="#state.Range"><code>Range</code></a> objects.
				</p>
				<dl>
					<dt id="state.RangeSetBuilder.constructor">
						<code
							><span class="keyword">new</span>
							<strong
								><a href="#state.RangeSetBuilder.constructor"
									>RangeSetBuilder</a
								></strong
							>()</code
						>
					</dt>

					<dd><p>Create an empty builder.</p></dd>
					<dt id="state.RangeSetBuilder.add">
						<code
							><strong
								><a href="#state.RangeSetBuilder.add"
									>add</a
								></strong
							>(<a
								id="state.RangeSetBuilder.add^from"
								href="#state.RangeSetBuilder.add^from"
								><span class="param">from</span></a
							>:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							>,
							<a
								id="state.RangeSetBuilder.add^to"
								href="#state.RangeSetBuilder.add^to"
								><span class="param">to</span></a
							>:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							>,
							<a
								id="state.RangeSetBuilder.add^value"
								href="#state.RangeSetBuilder.add^value"
								><span class="param">value</span></a
							>:&nbsp;<a href="#state.RangeSetBuilder^T"
								><span class="type">T</span></a
							>)</code
						>
					</dt>

					<dd>
						<p>
							Add a range. Ranges should be added in sorted (by
							<code>from</code> and <code>value.startSide</code>)
							order.
						</p>
					</dd>
					<dt id="state.RangeSetBuilder.finish">
						<code
							><strong
								><a href="#state.RangeSetBuilder.finish"
									>finish</a
								></strong
							>() →&nbsp;<a href="#state.RangeSet"
								><span class="type">RangeSet</span></a
							>&lt;<a href="#state.RangeSetBuilder^T"
								><span class="type">T</span></a
							>&gt;</code
						>
					</dt>

					<dd>
						<p>
							Finish the range set. Returns the new set. The
							builder can't be used anymore after this has been
							called.
						</p>
					</dd>
				</dl>
			</dd>
			<dt id="state.RangeComparator">
				<h4>
					<code><span class="keyword">interface</span></code>
					<a href="#state.RangeComparator">RangeComparator</a
					><code
						>&lt;<a
							id="state.RangeComparator^T"
							href="#state.RangeComparator^T"
							>T</a
						>
						<span class="keyword">extends</span>
						<a href="#state.RangeValue"
							><span class="type">RangeValue</span></a
						>&gt;</code
					>
				</h4>
			</dt>

			<dd>
				<p>Collection of methods used when comparing range sets.</p>
				<dl>
					<dt id="state.RangeComparator.compareRange">
						<code
							><strong
								><a href="#state.RangeComparator.compareRange"
									>compareRange</a
								></strong
							>(
							<div class="breaktype">
								<a
									id="state.RangeComparator.compareRange^from"
									href="#state.RangeComparator.compareRange^from"
									><span class="param">from</span></a
								>:&nbsp;<a
									href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
									><span class="prim">number</span></a
								>,
							</div>
							<div class="breaktype">
								<a
									id="state.RangeComparator.compareRange^to"
									href="#state.RangeComparator.compareRange^to"
									><span class="param">to</span></a
								>:&nbsp;<a
									href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
									><span class="prim">number</span></a
								>,
							</div>
							<div class="breaktype">
								<a
									id="state.RangeComparator.compareRange^activeA"
									href="#state.RangeComparator.compareRange^activeA"
									><span class="param">activeA</span></a
								>:&nbsp;<a href="#state.RangeComparator^T"
									><span class="type">T</span></a
								>[],
							</div>
							<div class="breaktype">
								<a
									id="state.RangeComparator.compareRange^activeB"
									href="#state.RangeComparator.compareRange^activeB"
									><span class="param">activeB</span></a
								>:&nbsp;<a href="#state.RangeComparator^T"
									><span class="type">T</span></a
								>[]
							</div>
							)</code
						>
					</dt>

					<dd>
						<p>
							Notifies the comparator that a range (in positions
							in the new document) has the given sets of values
							associated with it, which are different in the old
							(A) and new (B) sets.
						</p>
					</dd>
					<dt id="state.RangeComparator.comparePoint">
						<code
							><strong
								><a href="#state.RangeComparator.comparePoint"
									>comparePoint</a
								></strong
							>(
							<div class="breaktype">
								<a
									id="state.RangeComparator.comparePoint^from"
									href="#state.RangeComparator.comparePoint^from"
									><span class="param">from</span></a
								>:&nbsp;<a
									href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
									><span class="prim">number</span></a
								>,
							</div>
							<div class="breaktype">
								<a
									id="state.RangeComparator.comparePoint^to"
									href="#state.RangeComparator.comparePoint^to"
									><span class="param">to</span></a
								>:&nbsp;<a
									href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
									><span class="prim">number</span></a
								>,
							</div>
							<div class="breaktype">
								<a
									id="state.RangeComparator.comparePoint^pointA"
									href="#state.RangeComparator.comparePoint^pointA"
									><span class="param">pointA</span></a
								>:&nbsp;<a href="#state.RangeComparator^T"
									><span class="type">T</span></a
								>
								|
								<a
									href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"
									><span class="prim">null</span></a
								>,
							</div>
							<div class="breaktype">
								<a
									id="state.RangeComparator.comparePoint^pointB"
									href="#state.RangeComparator.comparePoint^pointB"
									><span class="param">pointB</span></a
								>:&nbsp;<a href="#state.RangeComparator^T"
									><span class="type">T</span></a
								>
								|
								<a
									href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"
									><span class="prim">null</span></a
								>
							</div>
							)</code
						>
					</dt>

					<dd>
						<p>
							Notification for a changed (or inserted, or deleted)
							point range.
						</p>
					</dd>
					<dt id="state.RangeComparator.boundChange">
						<code
							><strong
								><a href="#state.RangeComparator.boundChange"
									>boundChange</a
								></strong
							>⁠?: <span class="fn">fn</span>(<a
								id="state.RangeComparator.boundChange^pos"
								href="#state.RangeComparator.boundChange^pos"
								><span class="param">pos</span></a
							>:&nbsp;<a
								href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
								><span class="prim">number</span></a
							>)</code
						>
					</dt>

					<dd>
						<p>
							Notification for a changed boundary between ranges.
							For example, if the same span is covered by two
							partial ranges before and one bigger range after,
							this is called at the point where the ranges used to
							be split.
						</p>
					</dd>
				</dl>
			</dd>
			<dt id="state.SpanIterator">
				<h4>
					<code><span class="keyword">interface</span></code>
					<a href="#state.SpanIterator">SpanIterator</a
					><code
						>&lt;<a
							id="state.SpanIterator^T"
							href="#state.SpanIterator^T"
							>T</a
						>
						<span class="keyword">extends</span>
						<a href="#state.RangeValue"
							><span class="type">RangeValue</span></a
						>&gt;</code
					>
				</h4>
			</dt>

			<dd>
				<p>
					Methods used when iterating over the spans created by a set
					of ranges. The entire iterated range will be covered with
					either
					<code>span</code> or <code>point</code> calls.
				</p>
				<dl>
					<dt id="state.SpanIterator.span">
						<code
							><strong
								><a href="#state.SpanIterator.span"
									>span</a
								></strong
							>(
							<div class="breaktype">
								<a
									id="state.SpanIterator.span^from"
									href="#state.SpanIterator.span^from"
									><span class="param">from</span></a
								>:&nbsp;<a
									href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
									><span class="prim">number</span></a
								>,
							</div>
							<div class="breaktype">
								<a
									id="state.SpanIterator.span^to"
									href="#state.SpanIterator.span^to"
									><span class="param">to</span></a
								>:&nbsp;<a
									href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
									><span class="prim">number</span></a
								>,
							</div>
							<div class="breaktype">
								<a
									id="state.SpanIterator.span^active"
									href="#state.SpanIterator.span^active"
									><span class="param">active</span></a
								>:&nbsp;<span class="keyword">readonly</span
								>&nbsp;<a href="#state.SpanIterator^T"
									><span class="type">T</span></a
								>[],
							</div>
							<div class="breaktype">
								<a
									id="state.SpanIterator.span^openStart"
									href="#state.SpanIterator.span^openStart"
									><span class="param">openStart</span></a
								>:&nbsp;<a
									href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
									><span class="prim">number</span></a
								>
							</div>
							)</code
						>
					</dt>

					<dd>
						<p>
							Called for any ranges not covered by point
							decorations.
							<code>active</code> holds the values that the range
							is marked with (and may be empty).
							<code>openStart</code> indicates how many of those
							ranges are open (continued) at the start of the
							span.
						</p>
					</dd>
					<dt id="state.SpanIterator.point">
						<code
							><strong
								><a href="#state.SpanIterator.point"
									>point</a
								></strong
							>(
							<div class="breaktype">
								<a
									id="state.SpanIterator.point^from"
									href="#state.SpanIterator.point^from"
									><span class="param">from</span></a
								>:&nbsp;<a
									href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
									><span class="prim">number</span></a
								>,
							</div>
							<div class="breaktype">
								<a
									id="state.SpanIterator.point^to"
									href="#state.SpanIterator.point^to"
									><span class="param">to</span></a
								>:&nbsp;<a
									href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
									><span class="prim">number</span></a
								>,
							</div>
							<div class="breaktype">
								<a
									id="state.SpanIterator.point^value"
									href="#state.SpanIterator.point^value"
									><span class="param">value</span></a
								>:&nbsp;<a href="#state.SpanIterator^T"
									><span class="type">T</span></a
								>,
							</div>
							<div class="breaktype">
								<a
									id="state.SpanIterator.point^active"
									href="#state.SpanIterator.point^active"
									><span class="param">active</span></a
								>:&nbsp;<span class="keyword">readonly</span
								>&nbsp;<a href="#state.SpanIterator^T"
									><span class="type">T</span></a
								>[],
							</div>
							<div class="breaktype">
								<a
									id="state.SpanIterator.point^openStart"
									href="#state.SpanIterator.point^openStart"
									><span class="param">openStart</span></a
								>:&nbsp;<a
									href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
									><span class="prim">number</span></a
								>,
							</div>
							<div class="breaktype">
								<a
									id="state.SpanIterator.point^index"
									href="#state.SpanIterator.point^index"
									><span class="param">index</span></a
								>:&nbsp;<a
									href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
									><span class="prim">number</span></a
								>
							</div>
							)</code
						>
					</dt>

					<dd>
						<p>
							Called when going over a point decoration. The
							active range decorations that cover the point and
							have a higher precedence are provided in
							<code>active</code>. The open count in
							<code>openStart</code> counts the number of those
							ranges that started before the point and. If the
							point started before the iterated range,
							<code>openStart</code> will be
							<code>active.length + 1</code> to signal this.
						</p>
					</dd>
				</dl>
			</dd>
		</dl>
		<h3 id="h_utilities" tabindex="-1">Utilities</h3>
		<dl>
			<dt id="state.combineConfig">
				<code
					><strong
						><a href="#state.combineConfig"
							>combineConfig</a
						></strong
					>&lt;<a
						id="state.combineConfig^Config"
						href="#state.combineConfig^Config"
						>Config</a
					>
					<span class="keyword">extends</span>
					<a
						href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"
						><span class="type">object</span></a
					>&gt;(
					<div class="breaktype">
						<a
							id="state.combineConfig^configs"
							href="#state.combineConfig^configs"
							><span class="param">configs</span></a
						>:&nbsp;<span class="keyword">readonly</span>&nbsp;<a
							href="https://www.typescriptlang.org/docs/handbook/utility-types.html#partialtype"
							><span class="type">Partial</span></a
						>&lt;<a href="#state.combineConfig^Config"
							><span class="type">Config</span></a
						>&gt;[],
					</div>
					<div class="breaktype">
						<a
							id="state.combineConfig^defaults"
							href="#state.combineConfig^defaults"
							><span class="param">defaults</span></a
						>:&nbsp;<a
							href="https://www.typescriptlang.org/docs/handbook/utility-types.html#partialtype"
							><span class="type">Partial</span></a
						>&lt;<a href="#state.combineConfig^Config"
							><span class="type">Config</span></a
						>&gt;,
					</div>
					<div class="breaktype">
						<a
							id="state.combineConfig^combine"
							href="#state.combineConfig^combine"
							><span class="param">combine</span></a
						>⁠?:&nbsp;{
						<div class="breaktype">
							[<a
								id="state.combineConfig^combine^P"
								href="#state.combineConfig^combine^P"
								>P</a
							>&nbsp;in&nbsp;<span class="keyword">keyof</span
							>&nbsp;<a href="#state.combineConfig^Config"
								><span class="type">Config</span></a
							>]:&nbsp;<span class="fn">fn</span>(<a
								id="state.combineConfig^combine^first"
								href="#state.combineConfig^combine^first"
								><span class="param">first</span></a
							>:&nbsp;<a href="#state.combineConfig^Config"
								><span class="type">Config</span></a
							>[<a href="#state.combineConfig^combine^P"
								><span class="type">P</span></a
							>],
							<a
								id="state.combineConfig^combine^second"
								href="#state.combineConfig^combine^second"
								><span class="param">second</span></a
							>:&nbsp;<a href="#state.combineConfig^Config"
								><span class="type">Config</span></a
							>[<a href="#state.combineConfig^combine^P"
								><span class="type">P</span></a
							>]) →&nbsp;<a href="#state.combineConfig^Config"
								><span class="type">Config</span></a
							>[<a href="#state.combineConfig^combine^P"
								><span class="type">P</span></a
							>]
						</div>
						}<span class="defaultvalue"> = {}</span>
					</div>
					) →&nbsp;<a href="#state.combineConfig^Config"
						><span class="type">Config</span></a
					></code
				>
			</dt>

			<dd>
				<p>
					Utility function for combining behaviors to fill in a config
					object from an array of provided configs.
					<code>defaults</code> should hold default values for all
					optional fields in <code>Config</code>.
				</p>
				<p>
					The function will, by default, error when a field gets two
					values that aren't <code>===</code>-equal, but you can
					provide combine functions per field to do something else.
				</p>
			</dd>
		</dl>
	</section>
</body>
